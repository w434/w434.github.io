<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>程序设计实习 新标准C++程序设计 | w434's blog</title><meta name="author" content="w434"><meta name="copyright" content="w434"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="第一章 从C到C++ ：引用和函数参数的传递 ： C++定义“引用”的方式如下 ：  类型名 &amp; 引用名 &#x3D; 同类型的某变量名;  例如 ： 123int n;int &amp; r &#x3D; n;&#x2F;&#x2F;r是一个引用，类型是int &amp;  注意事项 ：  定义引用要初始化  只能引用变量  常引用 ：  前面加const，不能通过常引用修改引用的内容 12345int n;cons">
<meta property="og:type" content="article">
<meta property="og:title" content="程序设计实习 新标准C++程序设计">
<meta property="og:url" content="http://example.com/post/eb1fb29b.html">
<meta property="og:site_name" content="w434&#39;s blog">
<meta property="og:description" content="第一章 从C到C++ ：引用和函数参数的传递 ： C++定义“引用”的方式如下 ：  类型名 &amp; 引用名 &#x3D; 同类型的某变量名;  例如 ： 123int n;int &amp; r &#x3D; n;&#x2F;&#x2F;r是一个引用，类型是int &amp;  注意事项 ：  定义引用要初始化  只能引用变量  常引用 ：  前面加const，不能通过常引用修改引用的内容 12345int n;cons">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://s2.loli.net/2024/08/09/Lbg1GKRekxrFE8n.jpg">
<meta property="article:published_time" content="2024-08-09T04:38:00.000Z">
<meta property="article:modified_time" content="2024-08-30T07:40:42.411Z">
<meta property="article:author" content="w434">
<meta property="article:tag" content="程序设计实习">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://s2.loli.net/2024/08/09/Lbg1GKRekxrFE8n.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://example.com/post/eb1fb29b.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":200},
  copy: {
    success: 'Copy Successful',
    error: 'Copy Error',
    noSupport: 'Browser Not Supported'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'Just now',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: 'Load More'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '程序设计实习 新标准C++程序设计',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-08-30 15:40:42'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 7.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://s2.loli.net/2024/07/16/lsEXfWtGT6eRu7k.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">24</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">18</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">12</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于我</span></a></div><div class="menus_item"><a class="site-page" href="/notes/"><i class="fa-fw fa-solid fa-school"></i><span> 课程笔记</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa-regular fa-face-smile"></i><span> 生活</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/matches/"><i class="fa-fw fa-solid fa-futbol"></i><span> 足球赛事</span></a></li><li><a class="site-page child" href="/chess/"><i class="fa-fw fa-solid fa-chess"></i><span> 国际象棋</span></a></li><li><a class="site-page child" href="/comments/"><i class="fa-fw fa-solid fa-film"></i><span> 影评&amp;演出评论&amp;书评</span></a></li><li><a class="site-page child" href="/jottings/"><i class="fa-fw fa-solid fa-book"></i><span> 随笔</span></a></li><li><a class="site-page child" href="/varietyShow/"><i class="fa-fw fa-solid fa-tv"></i><span> 综艺</span></a></li><li><a class="site-page child" href="/games/"><i class="fa-fw fa-solid fa-gamepad"></i><span> 游戏</span></a></li><li><a class="site-page child" href="/musics/"><i class="fa-fw fa-solid fa-music"></i><span> 音乐</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://s2.loli.net/2024/08/09/Lbg1GKRekxrFE8n.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="w434's blog"><span class="site-name">w434's blog</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于我</span></a></div><div class="menus_item"><a class="site-page" href="/notes/"><i class="fa-fw fa-solid fa-school"></i><span> 课程笔记</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa-regular fa-face-smile"></i><span> 生活</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/matches/"><i class="fa-fw fa-solid fa-futbol"></i><span> 足球赛事</span></a></li><li><a class="site-page child" href="/chess/"><i class="fa-fw fa-solid fa-chess"></i><span> 国际象棋</span></a></li><li><a class="site-page child" href="/comments/"><i class="fa-fw fa-solid fa-film"></i><span> 影评&amp;演出评论&amp;书评</span></a></li><li><a class="site-page child" href="/jottings/"><i class="fa-fw fa-solid fa-book"></i><span> 随笔</span></a></li><li><a class="site-page child" href="/varietyShow/"><i class="fa-fw fa-solid fa-tv"></i><span> 综艺</span></a></li><li><a class="site-page child" href="/games/"><i class="fa-fw fa-solid fa-gamepad"></i><span> 游戏</span></a></li><li><a class="site-page child" href="/musics/"><i class="fa-fw fa-solid fa-music"></i><span> 音乐</span></a></li></ul></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">程序设计实习 新标准C++程序设计</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2024-08-09T04:38:00.000Z" title="Created 2024-08-09 12:38:00">2024-08-09</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2024-08-30T07:40:42.411Z" title="Updated 2024-08-30 15:40:42">2024-08-30</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/">课程笔记</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E5%AE%9E%E4%B9%A0/">程序设计实习</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="程序设计实习 新标准C++程序设计"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post Views:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="第一章-从C到C-："><a href="#第一章-从C到C-：" class="headerlink" title="第一章 从C到C++ ："></a>第一章 从C到C++ ：</h1><h2 id="引用和函数参数的传递-："><a href="#引用和函数参数的传递-：" class="headerlink" title="引用和函数参数的传递 ："></a>引用和函数参数的传递 ：</h2><ul>
<li><p>C++定义“引用”的方式如下 ：<br>  类型名 &amp; 引用名 &#x3D; 同类型的某变量名;</p>
</li>
<li><p>例如 ：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">int</span> &amp; r = n;</span><br><span class="line"><span class="comment">//r是一个引用，类型是int &amp;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>注意事项 ：<br>  定义引用要初始化<br>  只能引用变量</p>
</li>
<li><p>常引用 ：<br>  前面加const，不能通过常引用修改引用的内容</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> &amp; r = n;</span><br><span class="line"><span class="comment">//r是一个常引用，类型是const int &amp;</span></span><br><span class="line">r = <span class="number">200</span>;</span><br><span class="line"><span class="comment">//编译出错，不能通过常引用去修改其引用的内容</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>参数传值和参数传引用 ：<br>  C++中函数参数传递有两种方式：传值和传引用<br>  传值：形参表不是引用，改变形参不改变实参<br>  传引用：形参表是引用，改变形参，实参也改变</p>
</li>
<li><p>参数传值例：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Swap</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> temp;</span><br><span class="line">    temp = a;</span><br><span class="line">    a = b;</span><br><span class="line">    b = temp;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;In Swap:a = &quot;</span> &lt;&lt; a &lt;&lt; <span class="string">&quot;, b = &quot;</span> &lt;&lt; b &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> a = <span class="number">4</span>;</span><br><span class="line">    <span class="type">int</span> b = <span class="number">5</span>;</span><br><span class="line">    <span class="built_in">Swap</span>(a,b);</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;After swaping:a = &quot;</span> &lt;&lt; a &lt;&lt; <span class="string">&quot;, b = &quot;</span> &lt;&lt; b;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*输出结果是：</span></span><br><span class="line"><span class="comment">In Swap:a = 5, b = 4</span></span><br><span class="line"><span class="comment">After swaping:a = 4, b = 5*/</span></span><br></pre></td></tr></table></figure></li>
</ul>
<p>Swap内部形参a,b确实发生了互换，但是在main函数中a,b还是维持原来的值。</p>
<ul>
<li>参数传引用例：<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Swap</span><span class="params">(<span class="type">int</span> &amp;a,<span class="type">int</span> &amp;b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> temp;</span><br><span class="line">    temp = a;</span><br><span class="line">    a = b;</span><br><span class="line">    b = temp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> n1 = <span class="number">100</span>;</span><br><span class="line">    <span class="type">int</span> n2 = <span class="number">50</span>;</span><br><span class="line">    <span class="built_in">Swap</span>(a,b);</span><br><span class="line">    cout &lt;&lt; n1 &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; n2 &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*输出结果是：</span></span><br><span class="line"><span class="comment">50 100</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure></li>
</ul>
<p>传引用形参是对应实参的引用，形参和实参是同一回事，形参的改变会改变实参。</p>
<h2 id="指针和动态内存分配-："><a href="#指针和动态内存分配-：" class="headerlink" title="指针和动态内存分配 ："></a>指针和动态内存分配 ：</h2><ul>
<li><p>通过new运算符实现动态内存分配，用法如下：</p>
<ol>
<li>p &#x3D; new t;<br>  t是任意类型名，p是类型为T*的指针</li>
<li>p &#x3D; new t[N];<br>  t是任意类型名，p是类型为T*的指针,N代表元素个数</li>
</ol>
</li>
<li><p>例如：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span> </span><br><span class="line">    <span class="type">int</span>* p;</span><br><span class="line">    p = <span class="keyword">new</span> <span class="type">int</span>;</span><br><span class="line">    *p = <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span> </span><br><span class="line">    <span class="type">int</span> *pn;</span><br><span class="line">    <span class="type">int</span> i = <span class="number">5</span>;</span><br><span class="line">    pn = <span class="keyword">new</span> <span class="type">int</span> [i * <span class="number">20</span>];</span><br></pre></td></tr></table></figure>
</li>
<li><p>用delete释放动态分配的内存空间，用法如下：</p>
<ol>
<li>delete 指针;</li>
<li>delete [] 指针;(如果new的是一个数组)</li>
</ol>
</li>
<li><p>例如：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span> </span><br><span class="line">    <span class="type">int</span>* p = <span class="keyword">new</span> <span class="type">int</span>;</span><br><span class="line">    *p = <span class="number">5</span>;</span><br><span class="line">    <span class="keyword">delete</span> p;</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span> </span><br><span class="line">    <span class="type">int</span>* p = <span class="keyword">new</span> <span class="type">int</span>[<span class="number">20</span>];</span><br><span class="line">    p[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">delete</span> [] p;</span><br></pre></td></tr></table></figure></li>
</ul>
<hr>
<h1 id="第二章-类和对象初步-："><a href="#第二章-类和对象初步-：" class="headerlink" title="第二章 类和对象初步 ："></a>第二章 类和对象初步 ：</h1><h2 id="类的定义和使用-："><a href="#类的定义和使用-：" class="headerlink" title="类的定义和使用 ："></a>类的定义和使用 ：</h2><ul>
<li><p>类的定义方法如下:<br>  class 类名<br>  {<br>  访问范围说明符：<br>  成员变量1<br>  成员变量2<br>  …<br>  成员函数声明1<br>  成员函数声明2<br>  …<br>  };</p>
</li>
<li><p>注意事项：</p>
</li>
</ul>
<ol>
<li>类的定义要以“;”结束</li>
<li>访问范围说明符一共有三种：public,private,protected</li>
<li>一个类的成员函数之间可以互相调用。类的成员函数可以重载，也可以设定参数的默认值。</li>
</ol>
<ul>
<li><p>成员函数的实现可以位于类的定义以外，格式如下：<br>  返回值类型 类名::函数名()<br>  {<br>  语句组<br>  }</p>
<p>  类名 对象名;</p>
</li>
<li><p>一个对象占用的内存空间大小等于其成员变量所占用的内存空间大小之和</p>
</li>
</ul>
<h2 id="访问对象的成员-："><a href="#访问对象的成员-：" class="headerlink" title="访问对象的成员 ："></a>访问对象的成员 ：</h2><ol>
<li>对象名.成员名<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">C r1,r2;</span><br><span class="line">r<span class="number">1.</span>w = <span class="number">5</span>;</span><br><span class="line">r<span class="number">2.</span><span class="built_in">init</span>(<span class="number">5</span>,<span class="number">4</span>);</span><br></pre></td></tr></table></figure></li>
<li>指针 -&gt; 成员名<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">C r1,r2;</span><br><span class="line">C* p1 = &amp;r1;</span><br><span class="line">C* p2 = &amp;r2;</span><br><span class="line">p1 -&gt; w = <span class="number">5</span>;</span><br><span class="line">p2 -&gt; <span class="built_in">init</span>(<span class="number">5</span>,<span class="number">4</span>)</span><br></pre></td></tr></table></figure></li>
<li>引用名.成员名<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">C r2;</span><br><span class="line">C &amp; rr = r2;</span><br><span class="line">rr<span class="number">.2</span> = <span class="number">5</span>;</span><br><span class="line">rr.<span class="built_in">init</span>(<span class="number">5</span>,<span class="number">4</span>); </span><br><span class="line"><span class="comment">//rr的值改变，r2的值也改变</span></span><br></pre></td></tr></table></figure></li>
</ol>
<ul>
<li>对象之间可以用“&#x3D;”相互赋值，但是不能用&#x3D;&#x3D;,!&#x3D;,&lt;,&gt;,&lt;&#x3D;,&gt;&#x3D;,进行运算</li>
</ul>
<h2 id="类成员可访问范围-："><a href="#类成员可访问范围-：" class="headerlink" title="类成员可访问范围 ："></a>类成员可访问范围 ：</h2><ul>
<li>private:用来指定私有成员。一个类的私有成员，不论是成员变量还是成员函数，都只能在该类的成员函数内部才能被访问。</li>
<li>public:用来指定公有成员。一个类的公有成员在任何地方都可以被访问。</li>
<li>protected:用来指定保护成员。解释详见“继承张章节。</li>
<li>如果成员前面没有访问范围说明符，则对class来说，该成员默认的被认为是私有成员；对struct来说，该成员默认的被认为是公有成员。</li>
</ul>
<hr>
<h1 id="第二章作业："><a href="#第二章作业：" class="headerlink" title="第二章作业："></a>第二章作业：</h1><h2 id="A-编程填空：学生信息处理程序"><a href="#A-编程填空：学生信息处理程序" class="headerlink" title="A:编程填空：学生信息处理程序 :"></a>A:编程填空：学生信息处理程序 :</h2><p>描述<br>实现一个学生信息处理程序，计算一个学生的四年平均成绩。<br>要求实现一个代表学生的类，并且类中所有成员变量都是【私有的】。<br>补充下列程序中的 Student 类以实现上述功能。<br>#include <iostream><br>#include <string><br>#include <cstdio><br>#include <cstring><br>#include <sstream><br>#include <cstdlib><br>using namespace std;<br>class Student {<br>&#x2F;&#x2F; 在此处补充你的代码<br>};<br>int main() {<br>    Student student;        &#x2F;&#x2F; 定义类的对象<br>    student.input();        &#x2F;&#x2F; 输入数据<br>    student.calculate();    &#x2F;&#x2F; 计算平均成绩<br>    student.output();       &#x2F;&#x2F; 输出数据<br>}<br>输入<br>输入数据为一行，包括：<br>姓名,年龄,学号,第一学年平均成绩,第二学年平均成绩,第三学年平均成绩,第四学年平均成绩。<br>其中姓名为由字母和空格组成的字符串（输入保证姓名不超过20个字符，并且空格不会出现在字符串两端），年龄、学号和学年平均成绩均为非负整数。信息之间用逗号隔开。<br>输出<br>输出一行数据，包括：<br>姓名,年龄,学号,四年平均成绩。<br>信息之间用逗号隔开。<br>样例输入<br>Tom Hanks,18,7817,80,80,90,70<br>样例输出<br>Tom Hanks,18,7817,80<br>提示<br>必须用类实现，其中所有成员变量都是私有的。<br>输出结果中，四年平均成绩不一定为整数。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;sstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span> &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">int</span> score[<span class="number">5</span>];</span><br><span class="line">    <span class="type">double</span> ave=<span class="number">0</span>;</span><br><span class="line">    <span class="type">char</span> name[<span class="number">100</span>];</span><br><span class="line">    <span class="type">int</span> student;</span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line">    <span class="type">char</span> a,b,c,d;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">input</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        cin.<span class="built_in">getline</span>(name,<span class="number">100</span>,<span class="string">&#x27;,&#x27;</span>);</span><br><span class="line">        cin&gt;&gt;age&gt;&gt;b&gt;&gt;student&gt;&gt;c;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            cin &gt;&gt; score[i] &gt;&gt; d;</span><br><span class="line">        &#125;</span><br><span class="line">        cin &gt;&gt; score[<span class="number">3</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">calculate</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            ave += score[i];</span><br><span class="line">        &#125;</span><br><span class="line">        ave = ave/<span class="number">4</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">output</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        cout &lt;&lt; name &lt;&lt; <span class="string">&quot;,&quot;</span> &lt;&lt; age &lt;&lt; <span class="string">&quot;,&quot;</span> &lt;&lt; student &lt;&lt; <span class="string">&quot;,&quot;</span> &lt;&lt; ave;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	Student student;        <span class="comment">// 定义类的对象</span></span><br><span class="line">	student.<span class="built_in">input</span>();        <span class="comment">// 输入数据</span></span><br><span class="line">	student.<span class="built_in">calculate</span>();    <span class="comment">// 计算平均成绩</span></span><br><span class="line">	student.<span class="built_in">output</span>();       <span class="comment">// 输出数据</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="B-Complex类的成员函数"><a href="#B-Complex类的成员函数" class="headerlink" title="B:Complex类的成员函数 :"></a>B:Complex类的成员函数 :</h2><p>描述<br>下面程序的输出是：<br>3+4i<br>5+6i<br>请补足Complex类的成员函数。不能加成员变量。<br>#include <iostream><br>#include <cstring><br>#include <cstdlib><br>using namespace std;<br>class Complex {<br>private:<br>    double r,i;<br>public:<br>    void Print() {<br>        cout &lt;&lt; r &lt;&lt; “+” &lt;&lt; i &lt;&lt; “i” &lt;&lt; endl;<br>    }<br>&#x2F;&#x2F; 在此处补充你的代码<br>};<br>int main() {<br>    Complex a;<br>    a &#x3D; “3+4i”; a.Print();<br>    a &#x3D; “5+6i”; a.Print();<br>    return 0;<br>}<br>输入<br>无<br>输出<br>3+4i<br>5+6i<br>样例输入<br>None<br>样例输出<br>3+4i<br>5+6i</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Complex</span> &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">double</span> r,i;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">Print</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        cout &lt;&lt; r &lt;&lt; <span class="string">&quot;+&quot;</span> &lt;&lt; i &lt;&lt; <span class="string">&quot;i&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">Complex</span>() : <span class="built_in">r</span>(<span class="number">0</span>), <span class="built_in">i</span>(<span class="number">0</span>) &#123;&#125;</span><br><span class="line">    <span class="built_in">Complex</span>(<span class="type">const</span> <span class="type">char</span> k[]) &#123;</span><br><span class="line">        <span class="built_in">sscanf</span>(k,<span class="string">&quot;%lf+%lfi&quot;</span>,&amp;r,&amp;i);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Complex a;</span><br><span class="line">    a = <span class="string">&quot;3+4i&quot;</span>; a.<span class="built_in">Print</span>();</span><br><span class="line">    a = <span class="string">&quot;5+6i&quot;</span>; a.<span class="built_in">Print</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="第三章-类和对象进阶-："><a href="#第三章-类和对象进阶-：" class="headerlink" title="第三章 类和对象进阶 ："></a>第三章 类和对象进阶 ：</h1><h2 id="构造函数的概念和作用-："><a href="#构造函数的概念和作用-：" class="headerlink" title="构造函数的概念和作用 ："></a>构造函数的概念和作用 ：</h2><ul>
<li><p>“构造函数”用于对对象进行自动初始化，是一类特殊的成员函数，其名字和类的名字一样，不写返回值</p>
</li>
<li><p>一个类可以有多个构造函数。如果类中没有单独写构造函数，则会自动生成一个没有参数的构造函数，成为“默认构造函数”</p>
</li>
<li><p>对象在生成时，会调用某个构造函数进行初始化，对象一旦生成，就再也不会在其上执行构造函数，即只有在对象生成时才会被调用。任何对象生成时，都一定会调用构造函数进行初始化。</p>
</li>
<li><p>构造函数可以重载，即可以写多个构造函数，他们的参数表不同，一般声明为public</p>
</li>
<li><p>例如：</p>
</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Complex</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        <span class="type">double</span> real,imag;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="built_in">Complex</span>(<span class="type">double</span> r);</span><br><span class="line">        <span class="built_in">Complex</span>(<span class="type">double</span> r,<span class="type">double</span> i);</span><br><span class="line">        <span class="built_in">Complex</span>(Complex c1,Complex c2);</span><br><span class="line">&#125;;</span><br><span class="line">Complex :: <span class="built_in">Complex</span>(<span class="type">double</span> r)    <span class="comment">//构造函数1</span></span><br><span class="line">&#123;</span><br><span class="line">    real = r;imag = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">Compex :: <span class="built_in">Complex</span>(<span class="type">double</span> r,<span class="type">double</span> i)    <span class="comment">//构造函数2</span></span><br><span class="line">&#123;</span><br><span class="line">    real = r;imag = i;</span><br><span class="line">&#125;</span><br><span class="line">Complex :: <span class="built_in">Complex</span> (Complex c1,Complex c2)  <span class="comment">//构造函数3</span></span><br><span class="line">&#123;</span><br><span class="line">    real = c<span class="number">1.</span>real + c<span class="number">2.</span>real;</span><br><span class="line">    imag = c<span class="number">1.</span>imag + c<span class="number">2.</span>imag;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">Complex <span class="title">c1</span><span class="params">(<span class="number">3</span>)</span>,<span class="title">c2</span><span class="params">(<span class="number">1</span>,<span class="number">2</span>)</span></span>;<span class="built_in">c3</span>(c1,c2),c4 = <span class="number">7</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">根据参数个数和类型要匹配的原则，c1,c2,c3,c4分别使用构造函数1、2、3、4进行初始化。结果是c1.real = 3,c1.imag = 0,c2 = &#123;1,2&#125;,c3 = &#123;4,2&#125;,c4 = &#123;7,0&#125;</span></span><br><span class="line"><span class="comment">/*</span></span><br></pre></td></tr></table></figure>

<ul>
<li>注意事项：<br>  构造函数在数组中使用的时候，使用构造函数初始化的次数取决于数组中的元素个数。例如Csample array1[2],则要调用两次构造函数</li>
</ul>
<h2 id="复制构造函数-："><a href="#复制构造函数-：" class="headerlink" title="复制构造函数 ："></a>复制构造函数 ：</h2><ul>
<li><p>复制构造函数也成拷贝构造函数，只有一个参数，参数的类型是“类的引用”</p>
</li>
<li><p>默认构造函数(即无参构造函数)不一定存在，但是复制构造函数总是会存在</p>
</li>
<li><p>例如：</p>
</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Complex</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="type">double</span> real,imag;</span><br><span class="line">        <span class="built_in">Complex</span>(<span class="type">double</span> r,<span class="type">double</span> i)</span><br><span class="line">        &#123;</span><br><span class="line">            real = r;imag = i;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">Complex <span class="title">c1</span><span class="params">(<span class="number">1</span>,<span class="number">2</span>)</span></span>;</span><br><span class="line">    <span class="function">Complex <span class="title">c2</span><span class="params">(c1)</span></span>;     <span class="comment">//用复制构造函数初始化c2</span></span><br><span class="line">    cout &lt;&lt; c<span class="number">2.</span>real &lt;&lt; <span class="string">&quot;,&quot;</span> &lt;&lt; c<span class="number">2.</span>imag;      <span class="comment">//输出1,2</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">这段代码中只有默认的复制构造函数，因此c2就是以c1为参数，调用默认复制构造函数进行初始化的，结果为c2为c1的复制品，c2的每个成员变量的值都与c1对应变量相等</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Complex</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="type">double</span> real,imag;</span><br><span class="line">        <span class="built_in">Complex</span>(<span class="type">double</span> r,<span class="type">double</span> i)</span><br><span class="line">        &#123;</span><br><span class="line">            real = r;imag = i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">Complex</span>(<span class="type">const</span> Complex &amp; x)</span><br><span class="line">        &#123;</span><br><span class="line">            real = x.real; imag = x.imag;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;Copy constructor called&quot;</span> &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">Complex <span class="title">c1</span><span class="params">(<span class="number">1</span>,<span class="number">2</span>)</span></span>;</span><br><span class="line">    <span class="function">Complex <span class="title">c2</span><span class="params">(c1)</span></span>;     <span class="comment">//调用复制构造函数</span></span><br><span class="line">    cout &lt;&lt; c<span class="number">2.</span>real &lt;&lt; <span class="string">&quot;,&quot;</span> &lt;&lt; c<span class="number">2.</span>imag &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">程序的输出结果是：</span></span><br><span class="line"><span class="comment">Copy constructor called</span></span><br><span class="line"><span class="comment">1,2</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<ul>
<li>复制构造函数被调用的三种情况：<ol>
<li><p>用一个对象去初始化同类的另一个对象的时候，会引发复制构造函数被调用<br>  例如：</p>
  <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Complex <span class="title">c2</span><span class="params">(c1)</span></span>;</span><br><span class="line">Complex c2 = c1;</span><br></pre></td></tr></table></figure>
<p>  赋值不引发复制构造函数，例如：c2 &#x3D; c1;</p>
</li>
<li><p>如果函数F的参数是类A的对象，那么当F被调用时，类A的复制构造函数将会被调用。作为形参的对象，是用复制构造函数进行初始化的，而且调用复制构造函数时的参数，就是调用函数时所给的实参。<br>  例如：</p>
  <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="built_in">A</span>()&#123;&#125;;</span><br><span class="line">        <span class="built_in">A</span>(A &amp; a)</span><br><span class="line">        &#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;Copy Constructor called&quot;</span> &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Func</span><span class="params">(A a)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    A a;</span><br><span class="line">    <span class="built_in">Func</span>(a);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">程序的实处结果为：</span></span><br><span class="line"><span class="comment">Copy Constructor called</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure></li>
<li><p>如果函数的返回值是类A的对象，则函数返回时，类A的复制构造函数会被调用。作为函数返回值的对象是用复制构造函数初始化的，而调用复制构造函数时的实参就是return语句所返回的对象<br>  例如：</p>
  <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="type">int</span> v;</span><br><span class="line">        <span class="built_in">A</span>(<span class="type">int</span> n)&#123; v = n; &#125;;</span><br><span class="line">        <span class="built_in">A</span>(<span class="type">const</span> A &amp; a)</span><br><span class="line">        &#123;</span><br><span class="line">            v = a.v;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;Copy constructor called&quot;</span> &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function">A <span class="title">Func</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">A <span class="title">a</span><span class="params">(<span class="number">4</span>)</span></span>;</span><br><span class="line">    <span class="keyword">return</span> a;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="built_in">Func</span>().v &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">程序输出的结果是：</span></span><br><span class="line"><span class="comment">Copy constructor called</span></span><br><span class="line"><span class="comment">4</span></span><br><span class="line"><span class="comment">(return a传回的时候调用复制构造函数)</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ul>
<h2 id="类型转换构造函数-："><a href="#类型转换构造函数-：" class="headerlink" title="类型转换构造函数 ："></a>类型转换构造函数 ：</h2><ul>
<li><p>类型转换构造函数能起到类型自动转换的作用</p>
</li>
<li><p>可以用explicit声明，则默认的转换失效</p>
</li>
<li><p>例如:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="type">double</span> real,imag;</span><br><span class="line">        <span class="built_in">A</span>(<span class="type">int</span> i)</span><br><span class="line">        &#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;IntConstructor called&quot;</span> &lt;&lt;endl;</span><br><span class="line">            real = i;imag = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">A</span>(<span class="type">double</span> r,<span class="type">double</span> i)</span><br><span class="line">        &#123;</span><br><span class="line">            real = r;imag = i;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">A <span class="title">c1</span><span class="params">(<span class="number">7</span>,<span class="number">8</span>)</span></span>;</span><br><span class="line">    A c2 = <span class="number">12</span>;</span><br><span class="line">    c1 = <span class="number">9</span>;</span><br><span class="line">    cout &lt;&lt; c<span class="number">1.</span>real &lt;&lt; <span class="string">&quot;,&quot;</span> &lt;&lt; c<span class="number">1.</span>imag &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">程序的输出结果是：</span></span><br><span class="line"><span class="comment">IntConstructor called</span></span><br><span class="line"><span class="comment">IntConstructor called</span></span><br><span class="line"><span class="comment">9,0</span></span><br><span class="line"><span class="comment">Complex(int）这个构造函数就是类型转换构造函数。可以看出，该构造函数一共被调用了两次。第一次来自于对c2的初始化，第二次来自于第20行的赋值语句。这条赋值语句的等能够接受一个整型参数。因此，编译器在处理这条赋值语句时，会在等号右边自动生成一个号两边的类型是不匹配的，之所以不会报错，就是因为Complex(int）这个类型转换构造函数能够接受一个整形参数。因此，编译器在处理这条赋值语句时，会在等号右边自动生成一个临时的Complex对象，该临时对象以9为实参，用Complex(int）构造函数初始化，然后再将☆这个临时对象的值赋给cl，也可以说是9被自动转换成一个 Complex对象然后再赋值给cl。要注意，第19行是初始化语句而不是赋值语句，编译器经优化后，往往不会将12转换成一个临时对象，而是直接以12作为参数调用Complex(int）构造函数来初始化c2。</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="析构函数-："><a href="#析构函数-：" class="headerlink" title="析构函数 ："></a>析构函数 ：</h2><ul>
<li><p>析构函数是成员函数的一种，它的名字与类名相同，但在前面要加~，没有参数和返回值</p>
</li>
<li><p>如果定义类时没写析构函数，则编译器生成默认析构函数</p>
</li>
<li><p>析构函数在对象消亡时自动被调用。只要在析构函数中使用delete语句，则用new运算符分配的空间在对象消亡时被释放，例如：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">String</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        <span class="type">char</span>* p;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="built_in">String</span>(<span class="type">int</span> n);</span><br><span class="line">        ~<span class="built_in">String</span>();</span><br><span class="line">&#125;;</span><br><span class="line">String :: ~<span class="built_in">String</span>()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">delete</span> [] p;</span><br><span class="line">&#125;</span><br><span class="line">String :: <span class="built_in">String</span>(<span class="type">int</span> n)</span><br><span class="line">&#123;</span><br><span class="line">    p = <span class="keyword">new</span> <span class="type">char</span>[n];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="静态成员变量和静态成员函数-："><a href="#静态成员变量和静态成员函数-：" class="headerlink" title="静态成员变量和静态成员函数 ："></a>静态成员变量和静态成员函数 ：</h2><ul>
<li><p>类的静态成员有两种：静态成员变量和静态成员函数。静态成员就是在定义时前面加了static关键字的成员变量&#x2F;函数。例如：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">A</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        <span class="type">int</span> w,h;</span><br><span class="line">        <span class="type">static</span> <span class="type">int</span> nTotalArea;      <span class="comment">//静态成员变量</span></span><br><span class="line">        <span class="type">static</span> <span class="type">int</span> nTotalNumber;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="function"><span class="type">static</span> <span class="type">void</span> <span class="title">PrintTotal</span><span class="params">()</span></span>;   <span class="comment">//静态成员函数</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>普通成员变量每个对象有各自的一份，而静态成员变量只有一份，被所有同类对象共享</p>
</li>
<li><p>静态成员无需通过对象访问，不与对象绑定而与类绑定。访问静态成员时，通过“类名 :: 成员名”访问</p>
</li>
<li><p>静态成员变量本质上是全局变量。一个类就算没有对象，其静态成员变量也存在。其目的是将某些类紧密相关的全局变量和全局函数封装形成一个整体</p>
</li>
<li><p>静态成员变量必须在类定义外面专门声明，声明时变量名前面加“类名 ::”，声明的同时可以初始化</p>
</li>
<li><p>注意事项：</p>
<ol>
<li>静态成员变量必须声明或者初始化</li>
<li>静态成员变量不能和this指针混用</li>
</ol>
</li>
<li><p>例如：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        <span class="type">int</span> w,h;</span><br><span class="line">        <span class="type">static</span> <span class="type">int</span> totalArea;</span><br><span class="line">        <span class="type">static</span> <span class="type">int</span> totalNumber;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="built_in">A</span>(<span class="type">int</span> w_,<span class="type">int</span> h_);</span><br><span class="line">        ~<span class="built_in">A</span>();</span><br><span class="line">        <span class="function"><span class="type">static</span> <span class="type">void</span> <span class="title">PrintTotal</span><span class="params">()</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line">A :: <span class="built_in">A</span>(<span class="type">int</span> w_,<span class="type">int</span> h_)</span><br><span class="line">&#123;</span><br><span class="line">    w = w_;h = h_;</span><br><span class="line">    totalNumber ++;</span><br><span class="line">    totalArea += w * h;</span><br><span class="line">&#125;</span><br><span class="line">A :: ~<span class="built_in">A</span>()</span><br><span class="line">&#123;</span><br><span class="line">    totalNumber --;</span><br><span class="line">    totalArea -= w * h;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> A :: <span class="built_in">PrintTotal</span>()</span><br><span class="line">&#123;</span><br><span class="line">    cout &lt;&lt; totalNumber &lt;&lt; totalArea &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> A :: totalNumber = <span class="number">0</span>;</span><br><span class="line"><span class="type">int</span> A :: totalArea = <span class="number">0</span>;</span><br><span class="line"><span class="comment">//必须在定义类的文件中对静态成员变量进行一次声明或初始化，否则编译不通过</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">A <span class="title">r1</span><span class="params">(<span class="number">3</span>,<span class="number">3</span>)</span>,<span class="title">r2</span><span class="params">(<span class="number">2</span>,<span class="number">2</span>)</span></span>;</span><br><span class="line">    A :: <span class="built_in">PrintTotal</span>();</span><br><span class="line">    r<span class="number">1.</span><span class="built_in">PrintTotal</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">程序输出的结果是：</span></span><br><span class="line"><span class="comment">2,13</span></span><br><span class="line"><span class="comment">2,13</span></span><br><span class="line"><span class="comment">,*/</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>静态成员函数不具体作用与某个对象，所以静态成员函数内部不能访问飞静态成员变量，也不能调用非静态成员函数</p>
</li>
</ul>
<h2 id="常量对象和敞亮成员函数-："><a href="#常量对象和敞亮成员函数-：" class="headerlink" title="常量对象和敞亮成员函数 ："></a>常量对象和敞亮成员函数 ：</h2><ul>
<li><p>在定义该对象时可以在前面加const关键字，称为常量对象。不能通过常量对象调用普通成员函数(可能修改对象的值)，但是可以通过常量对象调用常量成员函数。例如：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">A</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="function"><span class="type">void</span> <span class="title">SetValue</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="type">const</span> A obj;</span><br><span class="line"><span class="comment">//obj.SetValue()是错误的</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>常量成员内部也不能调用同类的其他非常量成员函数(静态成员函数除外)</p>
</li>
</ul>
<h2 id="成员对象和封闭类-："><a href="#成员对象和封闭类-：" class="headerlink" title="成员对象和封闭类 ："></a>成员对象和封闭类 ：</h2><ul>
<li>一个类的成员变量是另一个类的对象，就称之为“成员对象”，包含成员对象的类成为“封闭类”</li>
</ul>
<h3 id="封闭类构造函数的初始化列表-："><a href="#封闭类构造函数的初始化列表-：" class="headerlink" title="封闭类构造函数的初始化列表 ："></a>封闭类构造函数的初始化列表 ：</h3><ul>
<li><p>在构造函数中添加初始化列表的写法如下：<br>  类名 :: 构造函数名(参数表) : 成员变量1(参数表),成员变量2(参数表),…<br>  {<br>  …<br>  }</p>
</li>
<li><p>封闭类对象生成时，先执行所有成员对象的构造函数，然后才执行封闭类自己的构造函数。当封闭类对象消亡时，限制性封闭类的析构函数，然后再执行成员对象的析构函数。</p>
</li>
<li><p>例如：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">car</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        <span class="type">int</span> price;</span><br><span class="line">        Ctyre tyre;</span><br><span class="line">        Cengine engine;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="built_in">car</span>(<span class="type">int</span> p,<span class="type">int</span> tr,<span class="type">int</span> tw);</span><br><span class="line">&#125;;</span><br><span class="line">car :: <span class="built_in">car</span>(<span class="type">int</span> p,<span class="type">int</span> tr,<span class="type">int</span> tw) : <span class="built_in">price</span>(p),<span class="built_in">tyre</span>(tr,tw)</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="封闭类的构造函数-："><a href="#封闭类的构造函数-：" class="headerlink" title="封闭类的构造函数 ："></a>封闭类的构造函数 ：</h3><ul>
<li>封闭类的对象，如果使用默认复制构造函数初始化的，那么它包含的成员对象也会用复制构造函数初始化美丽如：<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="built_in">A</span>()&#123;cout &lt;&lt; <span class="string">&quot;default&quot;</span> &lt;&lt; endl;&#125;</span><br><span class="line">        <span class="built_in">A</span>(A &amp; a) &#123;cout &lt;&lt; <span class="string">&quot;copy&quot;</span> &lt;&lt; endl;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span></span><br><span class="line">&#123;</span><br><span class="line">    A a;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    B b1,<span class="built_in">b2</span>(b1);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">程序输出的结果是：</span></span><br><span class="line"><span class="comment">default</span></span><br><span class="line"><span class="comment">copy</span></span><br><span class="line"><span class="comment">说明b2.a是用A的复制构造函数相互实话的，而且调用复制构造函数时的实参是b1.a*/</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="const成员和引用成员-："><a href="#const成员和引用成员-：" class="headerlink" title="const成员和引用成员 ："></a>const成员和引用成员 ：</h2><ul>
<li>类还可以有常量型成员变量和引用型成员变量，这两种类型的成员变量必须在构造函数的初始化列表中进行初始化，例如：<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> f;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CDemo</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        <span class="type">const</span> <span class="type">int</span> num;  <span class="comment">//常量型成员变量</span></span><br><span class="line">        <span class="type">int</span> &amp; ref;      <span class="comment">//引用型成员变量</span></span><br><span class="line">        <span class="type">int</span> value;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="built_in">CDemo</span>(<span class="type">int</span> n) : <span class="built_in">num</span>(n),<span class="built_in">ref</span>(f),<span class="built_in">value</span>(<span class="number">4</span>)</span><br><span class="line">        &#123;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="built_in">sizeof</span>(CDemo) &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">程序输出的结果是：</span></span><br><span class="line"><span class="comment">12</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="友元"><a href="#友元" class="headerlink" title="友元 :"></a>友元 :</h2><h3 id="友元函数"><a href="#友元函数" class="headerlink" title="友元函数 :"></a>友元函数 :</h3><ul>
<li><p>在友元函数内部可以访问该类对象的私有成员</p>
</li>
<li><p>将全局函数声明为友元的写法如下：<br>  friend 返回值类型 函数名(参数表);</p>
</li>
<li><p>将其他类的成员函数声明为友元的写法如下：<br>  friend 返回值类型 其他类的类名 :: 成员函数名(参数表);</p>
</li>
</ul>
<h3 id="友元类-："><a href="#友元类-：" class="headerlink" title="友元类 ："></a>友元类 ：</h3><ul>
<li><p>一个类A可以将另一个类B声明为自己的友元，类B的所有所有成员函数都可以访问A的私有成员。写法如下：<br>  friend class 类名；</p>
</li>
<li><p>例如：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Car</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        <span class="type">int</span> price;</span><br><span class="line">        <span class="keyword">friend</span> <span class="keyword">class</span> <span class="title class_">Driver</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Driver</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        Car myCar;</span><br><span class="line">        <span class="function"><span class="type">void</span> <span class="title">ModifyCar</span><span class="params">()</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            myCar.price += <span class="number">1000</span>;    <span class="comment">//因为Driver是Car的友元类，所以可以访问其私有成员</span></span><br><span class="line">        &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="this指针-："><a href="#this指针-：" class="headerlink" title="this指针 ："></a>this指针 ：</h2><h3 id="this指针的作用-："><a href="#this指针的作用-：" class="headerlink" title="this指针的作用 ："></a>this指针的作用 ：</h3><ul>
<li><p>this指针指向成员函数作用的对象，通过this指针指向对象所在的地址</p>
</li>
<li><p>因为this指针的存在，非静态成员函数实际上的形参个数要比写出来的参数多一个</p>
</li>
<li><p>静态成员函数并不作用于某个对象，所以在其内部不能用this指针</p>
</li>
<li><p>例如：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="type">double</span> real,imag;</span><br><span class="line">        <span class="built_in">A</span>(<span class="type">double</span> r,<span class="type">double</span> i) : <span class="built_in">real</span>(r),<span class="built_in">imag</span>(i) &#123;&#125;</span><br><span class="line">        <span class="function">A <span class="title">AddOne</span><span class="params">()</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            <span class="keyword">this</span> -&gt; real ++;</span><br><span class="line">            <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">A <span class="title">c1</span><span class="params">(<span class="number">1</span>,<span class="number">1</span>)</span>,<span class="title">c2</span><span class="params">(<span class="number">0</span>,<span class="number">0</span>)</span></span>;</span><br><span class="line">    c2 = c<span class="number">1.</span><span class="built_in">AddOne</span>();</span><br><span class="line">    cout &lt;&lt; c<span class="number">2.</span>real &lt;&lt; <span class="string">&quot;,&quot;</span> &lt;&lt; c<span class="number">2.</span>imag &lt;&lt; endl;  <span class="comment">//输出2,1</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">this指针的类型是A*。因为this指针就指向函数所作用的对象，所以this -&gt; real和real是完全等价的。*this代表函数所作用的对象，进入AddOne函数后，*this实际上就是c1.因此c2的值会变得和c1相同</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure></li>
</ul>
<hr>
<h1 id="第三章作业-："><a href="#第三章作业-：" class="headerlink" title="第三章作业 ："></a>第三章作业 ：</h1><h2 id="A-Apple-："><a href="#A-Apple-：" class="headerlink" title="A:Apple ："></a>A:Apple ：</h2><p>描述<br>程序填空，使其输出4 5 1<br>#include <iostream><br>using namespace std;<br>class Apple {<br>&#x2F;&#x2F; 在此处补充你的代码<br>static void PrintTotal() {<br>        cout &lt;&lt; nTotalNumber &lt;&lt; endl;<br>    }<br>};<br>int Apple::nTotalNumber &#x3D; 0;<br>Apple Fun(const Apple &amp; a) {<br>    a.PrintTotal();<br>    return a;<br>}<br>int main()<br>{<br>    Apple * p &#x3D; new Apple[4];<br>    Fun(p[2]);<br>    Apple p1,p2;<br>    Apple::PrintTotal ();<br>    delete [] p;<br>    p1.PrintTotal ();<br>    return 0;<br>}<br>输入<br>无<br>输出<br>4<br>5<br>1<br>样例输入<br>None<br>样例输出<br>4<br>5<br>1</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Apple</span> &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="type">static</span> <span class="type">int</span> nTotalNumber;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">Apple</span>() &#123;</span><br><span class="line">		nTotalNumber ++;</span><br><span class="line">	&#125;</span><br><span class="line">	~<span class="built_in">Apple</span>() &#123;</span><br><span class="line">		nTotalNumber --;</span><br><span class="line">	&#125;</span><br><span class="line"><span class="function"><span class="type">static</span> <span class="type">void</span> <span class="title">PrintTotal</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		cout &lt;&lt; nTotalNumber &lt;&lt; endl; </span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"><span class="type">int</span> Apple::nTotalNumber = <span class="number">0</span>;</span><br><span class="line"><span class="function">Apple <span class="title">Fun</span><span class="params">(<span class="type">const</span> Apple &amp; a)</span> </span>&#123;</span><br><span class="line">	a.<span class="built_in">PrintTotal</span>();</span><br><span class="line">	<span class="keyword">return</span> a;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	Apple * p = <span class="keyword">new</span> Apple[<span class="number">4</span>];</span><br><span class="line">	<span class="built_in">Fun</span>(p[<span class="number">2</span>]);</span><br><span class="line">	Apple p1,p2;</span><br><span class="line">	Apple::<span class="built_in">PrintTotal</span> ();</span><br><span class="line">	<span class="keyword">delete</span> [] p;</span><br><span class="line">	p<span class="number">1.</span><span class="built_in">PrintTotal</span> ();</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="B-返回什么才好呢"><a href="#B-返回什么才好呢" class="headerlink" title="B:返回什么才好呢 :"></a>B:返回什么才好呢 :</h2><p>描述<br>程序填空，使其按要求输出<br>#include <iostream><br>using namespace std;<br>class A {<br>public:<br>    int val;</p>
<pre><code>A(int
</code></pre>
<p>&#x2F;&#x2F; 在此处补充你的代码<br>};<br>int main()<br>{<br>    int m,n;<br>    A a;<br>    cout &lt;&lt; a.val &lt;&lt; endl;<br>    while(cin &gt;&gt; m &gt;&gt; n) {<br>        a.GetObj() &#x3D; m;<br>        cout &lt;&lt; a.val &lt;&lt; endl;<br>        a.GetObj() &#x3D; A(n);<br>        cout &lt;&lt; a.val&lt;&lt; endl;<br>    }<br>    return 0;<br>}<br>输入<br>多组数据，每组一行，是整数 m 和 n<br>输出<br>先输出一行：<br>123<br>然后，对每组数据，输出两行，第一行是m,第二行是n<br>样例输入<br>2 3<br>4 5<br>样例输出<br>123<br>2<br>3<br>4<br>5 </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="type">int</span> val;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">A</span>(<span class="type">int</span></span><br><span class="line">v) :<span class="built_in">val</span>(v)&#123;&#125;</span><br><span class="line">    <span class="built_in">A</span>():<span class="built_in">val</span>(<span class="number">123</span>)&#123;&#125;</span><br><span class="line">    <span class="function">A&amp; <span class="title">GetObj</span><span class="params">()</span> </span>&#123; </span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    a.GetObj() = m 和 = A(n)类型不同，所以是return *this,等号左侧必须是可修改的左值，所以传回引用A&amp;</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="type">int</span> m,n;</span><br><span class="line">	A a;</span><br><span class="line">	cout &lt;&lt; a.val &lt;&lt; endl;</span><br><span class="line">	<span class="keyword">while</span>(cin &gt;&gt; m &gt;&gt; n) &#123;</span><br><span class="line">		a.<span class="built_in">GetObj</span>() = m;</span><br><span class="line">		cout &lt;&lt; a.val &lt;&lt; endl;</span><br><span class="line">		a.<span class="built_in">GetObj</span>() = <span class="built_in">A</span>(n);</span><br><span class="line">		cout &lt;&lt; a.val&lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="C-Big-Base-封闭类问题"><a href="#C-Big-Base-封闭类问题" class="headerlink" title="C:Big &amp; Base 封闭类问题 :"></a>C:Big &amp; Base 封闭类问题 :</h2><p>描述<br>程序填空，输出指定结果<br>#include <iostream><br>#include <string><br>using namespace std;<br>class Base {<br>public:<br>    int k;<br>    Base(int n):k(n) { }<br>};<br>class Big<br>{<br>public:<br>    int v;<br>    Base b;<br>&#x2F;&#x2F; 在此处补充你的代码<br>};<br>int main()<br>{<br>    int n;<br>    while(cin &gt;&gt;n) {<br>        Big a1(n);<br>        Big a2 &#x3D; a1;<br>        cout &lt;&lt; a1.v &lt;&lt; “,” &lt;&lt; a1.b.k &lt;&lt; endl;<br>        cout &lt;&lt; a2.v &lt;&lt; “,” &lt;&lt; a2.b.k &lt;&lt; endl;<br>    }<br>}<br>输入<br>多组数据，每组一行，是一个整数<br>输出<br>对每组数据，输出两行，每行把输入的整数打印两遍<br>样例输入<br>3<br>4<br>样例输出<br>3,3<br>3,3<br>4,4<br>4,4	</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Base</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="type">int</span> k;</span><br><span class="line">	<span class="built_in">Base</span>(<span class="type">int</span> n):<span class="built_in">k</span>(n) &#123; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Big</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="type">int</span> v;</span><br><span class="line">	Base b;</span><br><span class="line">    <span class="built_in">Big</span>(<span class="type">int</span> n) : <span class="built_in">v</span>(n), <span class="built_in">b</span>(n) &#123;&#125;</span><br><span class="line">    <span class="comment">//封闭类必须用初始化列表写被包含类的初始化</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="type">int</span> n;</span><br><span class="line">	<span class="keyword">while</span>(cin &gt;&gt;n) &#123;</span><br><span class="line">		<span class="function">Big <span class="title">a1</span><span class="params">(n)</span></span>;</span><br><span class="line">		Big a2 = a1;</span><br><span class="line">		cout &lt;&lt; a<span class="number">1.</span>v &lt;&lt; <span class="string">&quot;,&quot;</span> &lt;&lt; a<span class="number">1.</span>b.k &lt;&lt; endl;</span><br><span class="line">		cout &lt;&lt; a<span class="number">2.</span>v &lt;&lt; <span class="string">&quot;,&quot;</span> &lt;&lt; a<span class="number">2.</span>b.k &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">    <span class="comment">//访问被包含类的时候先写.类中的成员，再写.被包含的类中的成员</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="D-奇怪的类复制-："><a href="#D-奇怪的类复制-：" class="headerlink" title="D:奇怪的类复制 ："></a>D:奇怪的类复制 ：</h2><p>描述<br>程序填空，使其输出9 22 5<br>#include <iostream><br>using namespace std;<br>class Sample {<br>public:<br>    int v;<br>&#x2F;&#x2F; 在此处补充你的代码<br>};<br>void PrintAndDouble(Sample o)<br>{<br>    cout &lt;&lt; o.v;<br>    cout &lt;&lt; endl;<br>}<br>int main()<br>{<br>    Sample a(5);<br>    Sample b &#x3D; a;<br>    PrintAndDouble(b);<br>    Sample c &#x3D; 20;<br>    PrintAndDouble(c);<br>    Sample d;<br>    d &#x3D; a;<br>    cout &lt;&lt; d.v;<br>    return 0;<br>}<br>输入<br>无<br>输出<br>9<br>22<br>5<br>样例输入<br>None<br>样例输出<br>9<br>22<br>5</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Sample</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="type">int</span> v;</span><br><span class="line">    <span class="built_in">Sample</span>(<span class="type">int</span> x) : <span class="built_in">v</span>(x) &#123;&#125;</span><br><span class="line">    <span class="built_in">Sample</span> (<span class="type">const</span> Sample&amp; other)</span><br><span class="line">    &#123;</span><br><span class="line">        v = other.v + <span class="number">2</span>; </span><br><span class="line">    &#125;</span><br><span class="line">    Sample &amp; <span class="keyword">operator</span>=(<span class="type">const</span> Sample &amp; other)</span><br><span class="line">    &#123;</span><br><span class="line">        v = other.v;</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">Sample</span>() &#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">PrintAndDouble</span><span class="params">(Sample o)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	cout &lt;&lt; o.v;</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="function">Sample <span class="title">a</span><span class="params">(<span class="number">5</span>)</span></span>;</span><br><span class="line">	Sample b = a;</span><br><span class="line">	<span class="built_in">PrintAndDouble</span>(b);</span><br><span class="line">	Sample c = <span class="number">20</span>;</span><br><span class="line">	<span class="built_in">PrintAndDouble</span>(c);</span><br><span class="line">	Sample d;</span><br><span class="line">	d = a;</span><br><span class="line">	cout &lt;&lt; d.v;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">Sample b = a的时候引发了一次复制构造函数，b作为参数传入时又触发了一次复制构造函数，两个+2后变为9。d = a是赋值，不引发复制构造函数。Sample c = 20先引发类型转换构造函数，生成一个以20为参数的临时对象，再作为参数传入函数时引发复制构造函数+2，变为22。</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<hr>
<h1 id="第四章-运算符重载-："><a href="#第四章-运算符重载-：" class="headerlink" title="第四章 运算符重载 ："></a>第四章 运算符重载 ：</h1><h2 id="运算符重载的概念和原理-："><a href="#运算符重载的概念和原理-：" class="headerlink" title="运算符重载的概念和原理 ："></a>运算符重载的概念和原理 ：</h2><ul>
<li><p>定义：运算符重载就是对已有的运算符赋予多重含义，使同一个运算符作用于不同类型的数据时产生不同的行为</p>
</li>
<li><p>运算符重载的实质是编写以运算符作为名称的函数，格式如下：<br>  返回值类型 operator 运算符(参数表)<br>  {<br>  …<br>  }</p>
</li>
<li><p>注意事项：</p>
<ol>
<li>同一个运算符可以多次被重载</li>
<li>一般来说，倾向于将运算符重载为成员函数</li>
<li>返回值类型一般为本类</li>
</ol>
</li>
<li><p>运算符重载为全局函数时，参数的数目等于运算符的数目(即操作数的个数)；运算符为成员函数时，参数的个数等于运算符的个数-1</p>
</li>
</ul>
<h2 id="重载运算符“-”-："><a href="#重载运算符“-”-：" class="headerlink" title="重载运算符“&#x3D;” ："></a>重载运算符“&#x3D;” ：</h2><ul>
<li><p>“&#x3D;”只能重载为成员函数</p>
</li>
<li><p>例如：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">String</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        <span class="type">char</span>* str;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="built_in">String</span>() : <span class="built_in">str</span>(<span class="literal">NULL</span>) &#123;&#125;</span><br><span class="line">        <span class="function"><span class="type">const</span> <span class="type">char</span>* <span class="title">c_str</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> str;</span><br><span class="line">        &#125;</span><br><span class="line">        String &amp; <span class="keyword">operator</span>=(<span class="type">const</span> <span class="type">char</span>* s);</span><br><span class="line">        ~<span class="built_in">String</span>()</span><br><span class="line">&#125;;</span><br><span class="line">String :: String <span class="keyword">operator</span>=(<span class="type">const</span> <span class="type">char</span>* s)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(str)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">delete</span> [] str;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(s)</span><br><span class="line">    &#123;</span><br><span class="line">        str = <span class="keyword">new</span> <span class="type">char</span>[<span class="built_in">strlen</span>(s) + <span class="number">1</span>];</span><br><span class="line">        <span class="built_in">strcpy</span>(str,s);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        str = <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line">String :: ~<span class="built_in">String</span>()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(str)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">delete</span> [] str;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    String s;</span><br><span class="line">    s = <span class="string">&quot;Good Luck,&quot;</span>;   <span class="comment">//等价于s.operator=(&quot;Good Luck,&quot;);</span></span><br><span class="line">    cout &lt;&lt; s.<span class="built_in">c_str</span>() &lt;&lt; endl;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    String s2 = &quot;Hello!&quot;这条语句会出错，因为这是一条初始化语句，要用到构造函数，而不是重载运算符“=”</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">   <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="深拷贝与浅拷贝-："><a href="#深拷贝与浅拷贝-：" class="headerlink" title="深拷贝与浅拷贝 ："></a>深拷贝与浅拷贝 ：</h2><ul>
<li><p>浅拷贝：拷贝后指针指向同一地方</p>
</li>
<li><p>深拷贝：内容复制而指针指向不同地方</p>
</li>
<li><p>浅拷贝容易导致错误，一般采用深拷贝。深拷贝的原理为new一个新的空间完成复制。例如(重点需记忆)：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&amp;String <span class="keyword">operator</span>=(<span class="type">const</span> String&amp; s)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(str == s.str)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(str)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">delete</span> [] str; </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(s.str)</span><br><span class="line">    &#123;</span><br><span class="line">        str = <span class="keyword">new</span> <span class="type">char</span>[<span class="built_in">strlen</span>(s.str + <span class="number">1</span>)];</span><br><span class="line">        <span class="built_in">strcpy</span>(str,s.str);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        str = <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="运算符重载为友元函数-："><a href="#运算符重载为友元函数-：" class="headerlink" title="运算符重载为友元函数 ："></a>运算符重载为友元函数 ：</h2><ul>
<li>适用于需要访问私有成员且为全局函数(参数个数等于运算符个数)。具体写法如下：<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">A</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">double</span> real,imag;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="built_in">A</span>(<span class="type">double</span> r,<span class="type">double</span> i) : <span class="built_in">real</span>(r),<span class="built_in">imag</span>(i) &#123;&#125;;</span><br><span class="line">        A <span class="keyword">operator</span>+(<span class="type">double</span> r);</span><br><span class="line">        <span class="keyword">friend</span> A <span class="keyword">operator</span>+(<span class="type">double</span> r,<span class="type">const</span> A &amp; c);</span><br><span class="line">&#125;;</span><br><span class="line">A A :: <span class="keyword">operator</span>+(<span class="type">double</span> r)          <span class="comment">//能解释c+5</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">A</span>(real + r,imag);</span><br><span class="line">&#125;</span><br><span class="line">A <span class="keyword">operator</span>+(<span class="type">double</span> r,<span class="type">const</span> A &amp; c)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">A</span>(c.real + r,c.imag);    <span class="comment">//能解释5+c</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="重载插入流运算符和流提取运算符-："><a href="#重载插入流运算符和流提取运算符-：" class="headerlink" title="重载插入流运算符和流提取运算符 ："></a>重载插入流运算符和流提取运算符 ：</h2><ul>
<li><p>有的时候需要重载“&lt;&lt;”和“&gt;&gt;”，返回值和第一个参数类型为ostream&amp;和istream&amp;,格式如下：<br>  ostream &amp; ostream :: operator&lt;&lt;(…)<br>  {<br>  &#x2F;&#x2F;一些代码<br>  return *this;<br>  }</p>
</li>
<li><p>重点记忆：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">friend</span> ostream &amp; <span class="keyword">operator</span>&lt;&lt;(ostream &amp; os,<span class="type">const</span> A &amp; c)</span><br><span class="line">&#123;</span><br><span class="line">    os &lt;&lt; ...;</span><br><span class="line">    <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">friend</span> istream &amp; <span class="keyword">operator</span>&lt;&lt;(istream &amp; is,A &amp; c)     <span class="comment">//不能有const</span></span><br><span class="line">&#123;</span><br><span class="line">    is &lt;&lt; ...;</span><br><span class="line">    <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="重载类型强制转换运算符-："><a href="#重载类型强制转换运算符-：" class="headerlink" title="重载类型强制转换运算符 ："></a>重载类型强制转换运算符 ：</h2><ul>
<li>例如：<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">double</span> real,imag;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="built_in">A</span>(<span class="type">double</span> r = <span class="number">0</span>,<span class="type">double</span> i = <span class="number">0</span>) : <span class="built_in">real</span> (r),<span class="built_in">imag</span>(i) &#123;&#125;</span><br><span class="line">        <span class="function"><span class="keyword">operator</span> <span class="title">double</span><span class="params">()</span>   <span class="comment">//重载强制类型转换运算符double</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> real;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">A</span>(<span class="number">1.2</span>,<span class="number">2.3</span>);</span><br><span class="line">    cout &lt;&lt; (<span class="type">double</span>)c &lt;&lt; endl;      <span class="comment">//输出1.2</span></span><br><span class="line">    <span class="type">double</span> n = <span class="number">2</span> + c;               <span class="comment">//等价于double n = 2 + c.operator double()</span></span><br><span class="line">    cout &lt;&lt; n;                      <span class="comment">//输出3.2</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="重载自增自减运算符-："><a href="#重载自增自减运算符-：" class="headerlink" title="重载自增自减运算符 ："></a>重载自增自减运算符 ：</h2><ul>
<li>“++”、“–”都可以被重载，但是有前置、后置之分。前置时，调用参数个数正常的重载函数；处理后置表达式时，允许写一个增加了无用int类型，调用多一个参数的重载函数。例如：<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        <span class="type">int</span> n;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="built_in">A</span>(<span class="type">int</span> i = <span class="number">0</span>) : <span class="built_in">n</span>(i) &#123;&#125;</span><br><span class="line">        A &amp; <span class="keyword">operator</span>++();       <span class="comment">//用于前置格式</span></span><br><span class="line">        A &amp; <span class="keyword">operator</span>++(<span class="type">int</span>);    <span class="comment">//用于后置格式</span></span><br><span class="line">        <span class="function"><span class="keyword">operator</span> <span class="title">int</span><span class="params">()</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> n;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">friend</span> A &amp; <span class="keyword">operator</span>--(A &amp;);     <span class="comment">//用于前置格式</span></span><br><span class="line">        <span class="keyword">friend</span> A &amp; <span class="keyword">operator</span>--(A &amp;,<span class="type">int</span>)；<span class="comment">//用于后置格式</span></span><br><span class="line">&#125;；</span><br><span class="line">A &amp; A :: <span class="keyword">operator</span>++()       <span class="comment">//前置++</span></span><br><span class="line">&#123;</span><br><span class="line">    n++;</span><br><span class="line">    <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line">A &amp; A :: <span class="keyword">operator</span>++(<span class="type">int</span>)    <span class="comment">//后置++</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function">A <span class="title">temp</span><span class="params">(*<span class="keyword">this</span>)</span></span>;</span><br><span class="line">    n++;</span><br><span class="line">    <span class="keyword">return</span> temp;</span><br><span class="line">&#125;</span><br><span class="line">A &amp; <span class="keyword">operator</span>--(A &amp; d)       <span class="comment">//前置--</span></span><br><span class="line">&#123;</span><br><span class="line">    d.n--;</span><br><span class="line">    <span class="keyword">return</span> d;</span><br><span class="line">&#125;</span><br><span class="line">A &amp; <span class="keyword">operator</span>--(A &amp; d,<span class="type">int</span>)   <span class="comment">//后置--</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function">A <span class="title">temp</span><span class="params">(d)</span></span></span><br><span class="line"><span class="function">    d.n--</span>;</span><br><span class="line">    <span class="keyword">return</span> temp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<hr>
<h1 id="第四章作业-："><a href="#第四章作业-：" class="headerlink" title="第四章作业 ："></a>第四章作业 ：</h1><h2 id="A-MyString-："><a href="#A-MyString-：" class="headerlink" title="A:MyString ："></a>A:MyString ：</h2><p>描述<br>补足MyString类，使程序输出指定结果<br>#include <iostream><br>#include <string><br>#include <cstring><br>using namespace std;<br>class MyString {<br>    char * p;<br>public:<br>    MyString(const char * s) {<br>        if( s) {<br>            p &#x3D; new char[strlen(s) + 1];<br>            strcpy(p,s);<br>        }<br>        else<br>            p &#x3D; NULL;</p>
<pre><code>&#125;
~MyString() &#123; if(p) delete [] p; &#125;
</code></pre>
<p>&#x2F;&#x2F; 在此处补充你的代码<br>};<br>int main()<br>{<br>    char w1[200],w2[100];<br>    while( cin &gt;&gt; w1 &gt;&gt; w2) {<br>        MyString s1(w1),s2 &#x3D; s1;<br>        MyString s3(NULL);<br>        s3.Copy(w1);<br>        cout &lt;&lt; s1 &lt;&lt; “,” &lt;&lt; s2 &lt;&lt; “,” &lt;&lt; s3 &lt;&lt; endl;</p>
<pre><code>    s2 = w2;
    s3 = s2;
    s1 = s3;
    cout &lt;&lt; s1 &lt;&lt; &quot;,&quot; &lt;&lt; s2 &lt;&lt; &quot;,&quot; &lt;&lt; s3 &lt;&lt; endl;
    
&#125;
</code></pre>
<p>}<br>输入<br>多组数据，每组一行，是两个不带空格的字符串<br>输出<br>对每组数据，先输出一行，打印输入中的第一个字符串三次<br>然后再输出一行，打印输入中的第二个字符串三次<br>样例输入<br>abc def<br>123 456<br>样例输出<br>abc,abc,abc<br>def,def,def<br>123,123,123<br>456,456,456</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyString</span> &#123;</span><br><span class="line">	<span class="type">char</span> * p;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">MyString</span>(<span class="type">const</span> <span class="type">char</span> * s) &#123;</span><br><span class="line">		<span class="keyword">if</span>( s) &#123;</span><br><span class="line">			p = <span class="keyword">new</span> <span class="type">char</span>[<span class="built_in">strlen</span>(s) + <span class="number">1</span>];</span><br><span class="line">			<span class="built_in">strcpy</span>(p,s);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">			p = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">	~<span class="built_in">MyString</span>() &#123; <span class="keyword">if</span>(p) <span class="keyword">delete</span> [] p; &#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">Copy</span><span class="params">(<span class="type">const</span> <span class="type">char</span>* s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">delete</span> [] p; <span class="comment">// 清理原来的数据</span></span><br><span class="line">        <span class="keyword">if</span> (s) &#123;</span><br><span class="line">            p = <span class="keyword">new</span> <span class="type">char</span>[<span class="built_in">strlen</span>(s) + <span class="number">1</span>];</span><br><span class="line">            <span class="built_in">strcpy</span>(p, s);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            p = <span class="literal">NULL</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 复制构造函数</span></span><br><span class="line">    <span class="built_in">MyString</span>(<span class="type">const</span> MyString&amp; other) &#123;</span><br><span class="line">        <span class="keyword">if</span> (other.p) &#123;</span><br><span class="line">            p = <span class="keyword">new</span> <span class="type">char</span>[<span class="built_in">strlen</span>(other.p) + <span class="number">1</span>];</span><br><span class="line">            <span class="built_in">strcpy</span>(p, other.p);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            p = <span class="literal">NULL</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 赋值运算符重载</span></span><br><span class="line">    MyString&amp; <span class="keyword">operator</span>=(<span class="type">const</span> MyString&amp; other) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span> != &amp;other) &#123;</span><br><span class="line">            <span class="keyword">delete</span> [] p;</span><br><span class="line">            <span class="keyword">if</span> (other.p) &#123;</span><br><span class="line">                p = <span class="keyword">new</span> <span class="type">char</span>[<span class="built_in">strlen</span>(other.p) + <span class="number">1</span>];</span><br><span class="line">                <span class="built_in">strcpy</span>(p, other.p);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                p = <span class="literal">NULL</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ostream 运算符重载</span></span><br><span class="line">    <span class="keyword">friend</span> ostream&amp; <span class="keyword">operator</span>&lt;&lt;(ostream&amp; os, <span class="type">const</span> MyString&amp; str) &#123;</span><br><span class="line">        <span class="keyword">if</span> (str.p)</span><br><span class="line">            os &lt;&lt; str.p;</span><br><span class="line">        <span class="keyword">return</span> os;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="type">char</span> w1[<span class="number">200</span>],w2[<span class="number">100</span>];</span><br><span class="line">	<span class="keyword">while</span>( cin &gt;&gt; w1 &gt;&gt; w2) &#123;</span><br><span class="line">		<span class="function">MyString <span class="title">s1</span><span class="params">(w1)</span>,s2 </span>= s1;</span><br><span class="line">		<span class="function">MyString <span class="title">s3</span><span class="params">(<span class="literal">NULL</span>)</span></span>;</span><br><span class="line">		s<span class="number">3.</span><span class="built_in">Copy</span>(w1);</span><br><span class="line">		cout &lt;&lt; s1 &lt;&lt; <span class="string">&quot;,&quot;</span> &lt;&lt; s2 &lt;&lt; <span class="string">&quot;,&quot;</span> &lt;&lt; s3 &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">		s2 = w2;</span><br><span class="line">		s3 = s2;</span><br><span class="line">		s1 = s3;</span><br><span class="line">		cout &lt;&lt; s1 &lt;&lt; <span class="string">&quot;,&quot;</span> &lt;&lt; s2 &lt;&lt; <span class="string">&quot;,&quot;</span> &lt;&lt; s3 &lt;&lt; endl;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="B-看上去好坑的运算符重载-："><a href="#B-看上去好坑的运算符重载-：" class="headerlink" title="B:看上去好坑的运算符重载 ："></a>B:看上去好坑的运算符重载 ：</h2><p>描述<br>程序填空<br>#include <iostream><br>using namespace std;<br>class MyInt<br>{<br>    int nVal;<br>    public:<br>    MyInt( int n) { nVal &#x3D; n ;}<br>&#x2F;&#x2F; 在此处补充你的代码<br>};<br>int Inc(int n) {<br>    return n + 1;<br>}<br>int main () {<br>    int n;<br>    while(cin &gt;&gt;n) {<br>        MyInt objInt(n);<br>        objInt-2-1-3;<br>        cout &lt;&lt; Inc(objInt);<br>        cout &lt;&lt;”,”;<br>        objInt-2-1;<br>        cout &lt;&lt; Inc(objInt) &lt;&lt; endl;<br>    }<br>    return 0;<br>}<br>输入<br>多组数据，每组一行，整数n<br>输出<br>对每组数据，输出一行，包括两个整数， n-5和n - 8<br>样例输入<br>20<br>30<br>样例输出<br>15,12<br>25,22</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span> </span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyInt</span> </span><br><span class="line">&#123; </span><br><span class="line">	<span class="type">int</span> nVal; </span><br><span class="line">	<span class="keyword">public</span>: </span><br><span class="line">	<span class="built_in">MyInt</span>( <span class="type">int</span> n) &#123; nVal = n ;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">operator</span> <span class="title">int</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> nVal;</span><br><span class="line">    &#125;</span><br><span class="line">    MyInt &amp;<span class="keyword">operator</span> -( <span class="type">const</span> <span class="type">int</span> n) &#123;</span><br><span class="line">        nVal -= n;</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;; </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Inc</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> n + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123; </span><br><span class="line">	<span class="type">int</span> n;</span><br><span class="line">	<span class="keyword">while</span>(cin &gt;&gt;n) &#123;</span><br><span class="line">		<span class="function">MyInt <span class="title">objInt</span><span class="params">(n)</span></span>; </span><br><span class="line">		objInt<span class="number">-2</span><span class="number">-1</span><span class="number">-3</span>; </span><br><span class="line">		cout &lt;&lt; <span class="built_in">Inc</span>(objInt);</span><br><span class="line">		cout &lt;&lt;<span class="string">&quot;,&quot;</span>; </span><br><span class="line">		objInt<span class="number">-2</span><span class="number">-1</span>; </span><br><span class="line">		cout &lt;&lt; <span class="built_in">Inc</span>(objInt) &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="C-惊呆！Point竟然能这样输入输出-："><a href="#C-惊呆！Point竟然能这样输入输出-：" class="headerlink" title="C:惊呆！Point竟然能这样输入输出 ："></a>C:惊呆！Point竟然能这样输入输出 ：</h2><p>描述<br>程序填空<br>#include <iostream><br>using namespace std;<br>class Point {<br>    private:<br>        int x;<br>        int y;<br>    public:<br>        Point() { };<br>&#x2F;&#x2F; 在此处补充你的代码<br>};<br>int main()<br>{<br>     Point p;<br>     while(cin &gt;&gt; p) {<br>         cout &lt;&lt; p &lt;&lt; endl;<br>     }<br>    return 0;<br>}<br>输入<br>多组数据，每组两个整数<br>输出<br>对每组数据，输出一行，就是输入的两个整数<br>样例输入<br>2 3<br>4 5<br>样例输出<br>2,3<br>4,5</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span> </span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Point</span> &#123; </span><br><span class="line">	<span class="keyword">private</span>: </span><br><span class="line">		<span class="type">int</span> x; </span><br><span class="line">		<span class="type">int</span> y; </span><br><span class="line">	<span class="keyword">public</span>: </span><br><span class="line">		<span class="built_in">Point</span>() &#123; &#125;;</span><br><span class="line">        <span class="keyword">friend</span> istream&amp; <span class="keyword">operator</span>&gt;&gt;(istream&amp; is, Point&amp; str) &#123;</span><br><span class="line">            is &gt;&gt; str.x &gt;&gt; str.y;</span><br><span class="line">            <span class="keyword">return</span> is;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">friend</span> ostream&amp; <span class="keyword">operator</span>&lt;&lt;(ostream&amp; os, <span class="type">const</span> Point&amp; str) &#123;</span><br><span class="line">            os &lt;&lt; str.x &lt;&lt; <span class="string">&quot;,&quot;</span> &lt;&lt; str.y;</span><br><span class="line">            <span class="keyword">return</span> os;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;; </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span></span><br><span class="line"><span class="function"></span>&#123; </span><br><span class="line"> 	Point p;</span><br><span class="line"> 	<span class="keyword">while</span>(cin &gt;&gt; p) &#123;</span><br><span class="line"> 		cout &lt;&lt; p &lt;&lt; endl;</span><br><span class="line">	 &#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="D-二维数组类-："><a href="#D-二维数组类-：" class="headerlink" title="D:二维数组类 ："></a>D:二维数组类 ：</h2><p>描述<br>写一个二维数组类 Array2,使得下面程序的输出结果是：<br>0,1,2,3,<br>4,5,6,7,<br>8,9,10,11,<br>next<br>0,1,2,3,<br>4,5,6,7,<br>8,9,10,11,<br>程序：<br>#include <iostream><br>#include <cstring><br>using namespace std;</p>
<p>class Array2 {<br>&#x2F;&#x2F; 在此处补充你的代码<br>};</p>
<p>int main() {<br>    Array2 a(3,4);<br>    int i,j;<br>    for(  i &#x3D; 0;i &lt; 3; ++i )<br>        for(  j &#x3D; 0; j &lt; 4; j ++ )<br>            a[i][j] &#x3D; i * 4 + j;<br>    for(  i &#x3D; 0;i &lt; 3; ++i ) {<br>        for(  j &#x3D; 0; j &lt; 4; j ++ ) {<br>            cout &lt;&lt; a(i,j) &lt;&lt; “,”;<br>        }<br>        cout &lt;&lt; endl;<br>    }<br>    cout &lt;&lt; “next” &lt;&lt; endl;<br>    Array2 b;     b &#x3D; a;<br>    for(  i &#x3D; 0;i &lt; 3; ++i ) {<br>        for(  j &#x3D; 0; j &lt; 4; j ++ ) {<br>            cout &lt;&lt; b[i][j] &lt;&lt; “,”;<br>        }<br>        cout &lt;&lt; endl;<br>    }<br>    return 0;<br>}<br>输入<br>无<br>输出<br>0,1,2,3,<br>4,5,6,7,<br>8,9,10,11,<br>next<br>0,1,2,3,<br>4,5,6,7,<br>8,9,10,11,<br>样例输入<br>None<br>样例输出<br>0,1,2,3,<br>4,5,6,7,<br>8,9,10,11,<br>next<br>0,1,2,3,<br>4,5,6,7,<br>8,9,10,11,</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Array2</span> &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">int</span> **data;</span><br><span class="line">    <span class="type">int</span> rows;</span><br><span class="line">    <span class="type">int</span> cols;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Array2</span>(<span class="type">int</span> r = <span class="number">0</span>, <span class="type">int</span> c = <span class="number">0</span>) : <span class="built_in">rows</span>(r), <span class="built_in">cols</span>(c) &#123;</span><br><span class="line">        data = <span class="keyword">new</span> <span class="type">int</span>*[rows];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; rows; ++i) &#123;</span><br><span class="line">            data[i] = <span class="keyword">new</span> <span class="type">int</span>[cols];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ~<span class="built_in">Array2</span>() &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; rows; ++i) &#123;</span><br><span class="line">            <span class="keyword">delete</span>[] data[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">delete</span>[] data;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span>* <span class="keyword">operator</span>[](<span class="type">int</span> i) &#123;</span><br><span class="line">        <span class="keyword">return</span> data[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="type">int</span> i, <span class="type">int</span> j)</span> <span class="type">const</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> data[i][j];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">int</span>&amp; <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="type">int</span> i, <span class="type">int</span> j)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> data[i][j];</span><br><span class="line">    &#125;</span><br><span class="line">    Array2&amp; <span class="keyword">operator</span>=(<span class="type">const</span> Array2&amp; other) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span> == &amp;other) &#123;</span><br><span class="line">            <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (rows != other.rows || cols != other.cols) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; rows; ++i) &#123;</span><br><span class="line">                <span class="keyword">delete</span>[] data[i];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">delete</span>[] data;</span><br><span class="line">            rows = other.rows;</span><br><span class="line">            cols = other.cols;</span><br><span class="line">            data = <span class="keyword">new</span> <span class="type">int</span>*[rows];</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; rows; ++i) &#123;</span><br><span class="line">                data[i] = <span class="keyword">new</span> <span class="type">int</span>[cols];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; rows; ++i) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; cols; ++j) &#123;</span><br><span class="line">                data[i][j] = other.data[i][j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="function">Array2 <span class="title">a</span><span class="params">(<span class="number">3</span>,<span class="number">4</span>)</span></span>;</span><br><span class="line">    <span class="type">int</span> i,j;</span><br><span class="line">    <span class="keyword">for</span>(  i = <span class="number">0</span>;i &lt; <span class="number">3</span>; ++i )</span><br><span class="line">        <span class="keyword">for</span>(  j = <span class="number">0</span>; j &lt; <span class="number">4</span>; j ++ )</span><br><span class="line">            a[i][j] = i * <span class="number">4</span> + j;</span><br><span class="line">    <span class="keyword">for</span>(  i = <span class="number">0</span>;i &lt; <span class="number">3</span>; ++i ) &#123;</span><br><span class="line">        <span class="keyword">for</span>(  j = <span class="number">0</span>; j &lt; <span class="number">4</span>; j ++ ) &#123;</span><br><span class="line">            cout &lt;&lt; <span class="built_in">a</span>(i,j) &lt;&lt; <span class="string">&quot;,&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        cout &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;next&quot;</span> &lt;&lt; endl;</span><br><span class="line">    Array2 b;     b = a;</span><br><span class="line">    <span class="keyword">for</span>(  i = <span class="number">0</span>;i &lt; <span class="number">3</span>; ++i ) &#123;</span><br><span class="line">        <span class="keyword">for</span>(  j = <span class="number">0</span>; j &lt; <span class="number">4</span>; j ++ ) &#123;</span><br><span class="line">            cout &lt;&lt; b[i][j] &lt;&lt; <span class="string">&quot;,&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        cout &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="E-别叫，这个大整数已经很简化了-："><a href="#E-别叫，这个大整数已经很简化了-：" class="headerlink" title="E:别叫，这个大整数已经很简化了! ："></a>E:别叫，这个大整数已经很简化了! ：</h2><p>描述<br>程序填空，输出指定结果<br>#include <iostream><br>#include <cstring><br>#include <cstdlib><br>#include <cstdio><br>using namespace std;<br>const int MAX &#x3D; 110;<br>class CHugeInt {<br>&#x2F;&#x2F; 在此处补充你的代码<br>};<br>int  main()<br>{<br>    char s[210];<br>    int n;<br>    while (cin &gt;&gt; s &gt;&gt; n) {<br>        CHugeInt a(s);<br>        CHugeInt b(n);<br>        cout &lt;&lt; a + b &lt;&lt; endl;<br>        cout &lt;&lt; n + a &lt;&lt; endl;<br>        cout &lt;&lt; a + n &lt;&lt; endl;<br>        b +&#x3D; n;<br>        cout  &lt;&lt; ++ b &lt;&lt; endl;<br>        cout &lt;&lt; b++ &lt;&lt; endl;<br>        cout &lt;&lt; b &lt;&lt; endl;<br>    }<br>    return 0;<br>}<br>输入<br>多组数据，每组数据是两个非负整数s和 n。s最多可能200位， n用int能表示<br>输出<br>对每组数据，输出6行，内容对应程序中6个输出语句<br>样例输入<br>99999999999999999999999999888888888888888812345678901234567789 12<br>6 6<br>样例输出<br>99999999999999999999999999888888888888888812345678901234567801<br>99999999999999999999999999888888888888888812345678901234567801<br>99999999999999999999999999888888888888888812345678901234567801<br>25<br>25<br>26<br>12<br>12<br>12<br>13<br>13<br>14</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span> </span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span> </span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdlib&gt;</span> </span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdio&gt;</span> </span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> MAX = <span class="number">110</span>; </span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CHugeInt</span> &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="comment">//char * HugeInt;//题目明确数据最大为（200+1）位，此处用数组更好</span></span><br><span class="line">    <span class="type">char</span> HugeInt[<span class="number">210</span>];</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">reverse</span><span class="params">(<span class="type">char</span> * _HugeInt)</span></span>&#123; <span class="comment">//将数据头尾反转，便于进位处理</span></span><br><span class="line">        <span class="type">int</span> len = <span class="built_in">strlen</span>(_HugeInt);</span><br><span class="line">        <span class="type">int</span> i = <span class="number">0</span>, j = len - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(i &lt;= j)&#123;</span><br><span class="line">            <span class="built_in">swap</span>(_HugeInt[i],_HugeInt[j] );</span><br><span class="line">            ++i;</span><br><span class="line">            --j;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//构造函数1</span></span><br><span class="line">    <span class="built_in">CHugeInt</span>(<span class="type">const</span> <span class="type">char</span> * _HugeInt)&#123;</span><br><span class="line">        <span class="built_in">memset</span>(HugeInt,<span class="string">&#x27;\0&#x27;</span>,<span class="built_in">sizeof</span>(HugeInt));</span><br><span class="line">        <span class="built_in">strcpy</span>(HugeInt,_HugeInt);</span><br><span class="line">        <span class="built_in">reverse</span>(HugeInt);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//构造函数2</span></span><br><span class="line">    <span class="built_in">CHugeInt</span>(<span class="type">const</span> <span class="type">int</span> _n)&#123;</span><br><span class="line">        <span class="built_in">memset</span>(HugeInt,<span class="string">&#x27;\0&#x27;</span>,<span class="built_in">sizeof</span>(HugeInt));</span><br><span class="line">        <span class="built_in">sprintf</span>(HugeInt,<span class="string">&quot;%d&quot;</span>,_n);</span><br><span class="line">        <span class="built_in">reverse</span>(HugeInt);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//满足计算：类 + num （cout &lt;&lt; a + n &lt;&lt; endl;）</span></span><br><span class="line">    CHugeInt <span class="keyword">operator</span>+(<span class="type">int</span> _n) &#123;</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span> + <span class="built_in">CHugeInt</span>(_n); <span class="comment">//将（类 + num） 转变成 （类 + 类）。</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//满足计算：num +类 （cout &lt;&lt; n + a &lt;&lt; endl;）</span></span><br><span class="line">    <span class="keyword">friend</span> CHugeInt <span class="keyword">operator</span>+(<span class="type">int</span> _n, CHugeInt &amp; _HugeInt)&#123;</span><br><span class="line">        <span class="comment">//return _HugeInt + _n;</span></span><br><span class="line">        <span class="keyword">return</span> _HugeInt + <span class="built_in">CHugeInt</span>(_n);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//满足计算:类 + 类  (cout &lt;&lt; a + b &lt;&lt; endl;)</span></span><br><span class="line">    CHugeInt <span class="keyword">operator</span>+(<span class="type">const</span> CHugeInt &amp; _HugeInt)&#123;</span><br><span class="line">        <span class="function">CHugeInt <span class="title">temp</span><span class="params">(<span class="number">0</span>)</span></span>;</span><br><span class="line">        <span class="type">int</span> carry = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">210</span> ;i++)&#123;</span><br><span class="line">            <span class="type">char</span> c1 = HugeInt[i];</span><br><span class="line">            <span class="type">char</span> c2 = _HugeInt.HugeInt[i];</span><br><span class="line">            <span class="keyword">if</span>(c1 == <span class="number">0</span> &amp;&amp; c2 == <span class="number">0</span> &amp;&amp; carry == <span class="number">0</span>) <span class="keyword">break</span>; </span><br><span class="line">                <span class="comment">//c1 == 0 而不是 c1 == &#x27;0&#x27; 是判断结束符&#x27;\0&#x27; !</span></span><br><span class="line">            <span class="keyword">if</span>( c1 == <span class="number">0</span>)</span><br><span class="line">                c1 = <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">            <span class="keyword">if</span>( c2 == <span class="number">0</span>)</span><br><span class="line">                c2 = <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">            <span class="type">int</span> k = c1 -<span class="string">&#x27;0&#x27;</span> + c2 - <span class="string">&#x27;0&#x27;</span> + carry;</span><br><span class="line">            <span class="keyword">if</span>(k &gt; <span class="number">9</span>)&#123;</span><br><span class="line">                carry = <span class="number">1</span>;</span><br><span class="line">                k = k % <span class="number">10</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> carry = <span class="number">0</span>;</span><br><span class="line">            temp.HugeInt[i] = k + <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> temp;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//重载&quot;+=&quot;b += n;</span></span><br><span class="line">    CHugeInt <span class="keyword">operator</span>+=(<span class="type">int</span> n)&#123;</span><br><span class="line">        *<span class="keyword">this</span> = *<span class="keyword">this</span> + <span class="built_in">CHugeInt</span>(n); <span class="comment">//将 b += n 变成 b = b + n;</span></span><br><span class="line">        <span class="keyword">return</span>  *<span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//重载前置++，为成员函数即可。</span></span><br><span class="line">    CHugeInt <span class="keyword">operator</span>++()&#123;</span><br><span class="line">        *<span class="keyword">this</span> = *<span class="keyword">this</span> + <span class="built_in">CHugeInt</span>(<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//重载后置++，多一个无用int参数,</span></span><br><span class="line">    CHugeInt <span class="keyword">operator</span>++(<span class="type">int</span>)&#123;</span><br><span class="line">        <span class="function">CHugeInt <span class="title">tmp</span><span class="params">(*<span class="keyword">this</span>)</span></span>; <span class="comment">//注意！！！后置++是要返回进行加法之前的变量的！！！</span></span><br><span class="line">        * <span class="keyword">this</span> = tmp + <span class="built_in">CHugeInt</span>(<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">return</span> tmp;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//重载&quot;&lt;&lt;&quot;</span></span><br><span class="line">    <span class="keyword">friend</span> ostream &amp; <span class="keyword">operator</span>&lt;&lt;(ostream &amp; os, <span class="type">const</span> CHugeInt &amp; _HugeInt)&#123;</span><br><span class="line">        <span class="type">int</span> len = <span class="built_in">strlen</span>(_HugeInt.HugeInt);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = len - <span class="number">1</span>; i &gt;= <span class="number">0</span> ; i--)&#123;</span><br><span class="line">            os &lt;&lt; _HugeInt.HugeInt[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> os;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span>  <span class="title">main</span><span class="params">()</span> </span></span><br><span class="line"><span class="function"></span>&#123; </span><br><span class="line">	<span class="type">char</span> s[<span class="number">210</span>];</span><br><span class="line">	<span class="type">int</span> n;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span> (cin &gt;&gt; s &gt;&gt; n) &#123;</span><br><span class="line">		<span class="function">CHugeInt <span class="title">a</span><span class="params">(s)</span></span>;</span><br><span class="line">		<span class="function">CHugeInt <span class="title">b</span><span class="params">(n)</span></span>;</span><br><span class="line"></span><br><span class="line">		cout &lt;&lt; a + b &lt;&lt; endl;</span><br><span class="line">		cout &lt;&lt; n + a &lt;&lt; endl;</span><br><span class="line">		cout &lt;&lt; a + n &lt;&lt; endl;</span><br><span class="line">		b += n;</span><br><span class="line">		cout  &lt;&lt; ++ b &lt;&lt; endl;</span><br><span class="line">		cout &lt;&lt; b++ &lt;&lt; endl;</span><br><span class="line">		cout &lt;&lt; b &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="第五章-继承与派生-："><a href="#第五章-继承与派生-：" class="headerlink" title="第五章 继承与派生 ："></a>第五章 继承与派生 ：</h1><h2 id="继承和派生的概念-："><a href="#继承和派生的概念-：" class="headerlink" title="继承和派生的概念 ："></a>继承和派生的概念 ：</h2><ul>
<li><p>可以把类A作为一个“基类”(也称“父类”)，把类B写为基类A的一个“派生类”(也称“子类”)。这样就可以说从类A“派生”出了类“B”，，也可以说类B“继承”了类A</p>
</li>
<li><p>基类的所有成员自动成为派生类的成员。派生类可以对基类进行扩充和修改：扩充指的是在派生类中可以添加新的成员变量和成员函数，修改指的是在派生类中可以重写基类继承得到的成员</p>
</li>
<li><p>派生类的成员函数不能访问基类的私有成员</p>
</li>
<li><p>派生类写法如下：<br>  class 派生名 : 继承方式说明符 基类名<br>  {<br>  …<br>  };</p>
</li>
<li><p>派生类对象中包含基类对象，而且基类对象的存储位于派生类对象新增的成员变量之前</p>
</li>
<li><p>在派生类中调用基类同名成员格式为：基类 :: 成员函数。例如：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">student</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        string name;</span><br><span class="line">        string id;      <span class="comment">//学号</span></span><br><span class="line">        <span class="type">char</span> gender;    <span class="comment">//性别，F代表女，M代表男</span></span><br><span class="line">        <span class="type">int</span> age;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="function"><span class="type">void</span> <span class="title">PrintInfo</span><span class="params">()</span></span>;</span><br><span class="line">        <span class="function"><span class="type">void</span> <span class="title">SetInfo</span><span class="params">(<span class="type">const</span> string &amp; name_,<span class="type">const</span> string &amp; id_,<span class="type">int</span> age_,<span class="type">char</span> gender_)</span></span>;</span><br><span class="line">        <span class="function">string <span class="title">GetName</span><span class="params">()</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> name;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Undergraduate</span> : <span class="keyword">public</span> student</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        string department;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="function"><span class="type">void</span> <span class="title">Qualified</span><span class="params">()</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;qualified for baoyan&quot;</span> &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="type">void</span> <span class="title">PrintInfo</span><span class="params">()</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            student :: <span class="built_in">PrintInfo</span>();     <span class="comment">//调用基类的PrintInfo函数</span></span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;Department:&quot;</span> &lt;&lt; department &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="type">void</span> <span class="title">SetInfo</span><span class="params">(<span class="type">const</span> string &amp; name_,<span class="type">const</span> string &amp; id_,<span class="type">int</span> age_,<span class="type">char</span> gender_,<span class="type">const</span> string &amp; department_)</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            student :: <span class="built_in">SetInfo</span>(name_,id_,age_,gender_);     <span class="comment">//调用基类的SetInfo函数</span></span><br><span class="line">            department = department_;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="type">void</span> student :: <span class="built_in">PrintInfo</span>()</span><br><span class="line">&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Name:&quot;</span> &lt;&lt; name &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;ID:&quot;</span> &lt;&lt; id &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Age:&quot;</span> &lt;&lt; age &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Gender:&quot;</span> &lt;&lt; gender &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> student :: <span class="built_in">SetInfo</span>(<span class="type">const</span> string &amp; name_,<span class="type">const</span> string &amp; id_,<span class="type">int</span> age_,<span class="type">char</span> gender_)</span><br><span class="line">&#123;</span><br><span class="line">    name = name_;</span><br><span class="line">    id = id_;</span><br><span class="line">    age = age_;</span><br><span class="line">    gender = gender_;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>如果基类 :: …报错，则需要定义为static</p>
</li>
</ul>
<h2 id="派生类的构造函数和析构函数-："><a href="#派生类的构造函数和析构函数-：" class="headerlink" title="派生类的构造函数和析构函数 ："></a>派生类的构造函数和析构函数 ：</h2><ul>
<li><p>派生类对象在创建时，除了要调用自身的构造函数进行初始化外，还要先执行基类的构造函数初始化其包含的基类对象。</p>
</li>
<li><p>程序中任何生成派生类对象的语句都要先说明其包含的基类对象是如何初始化的。格式如下：<br>  构造函数名(形参表) : 基类名(基类构造函数形参表)<br>  {</p>
<p>  }</p>
</li>
<li><p>如果一个派生类对象是用默认复制构造函数初始化的，那么它内部包含的基类对象也要用复制构造函数初始化</p>
</li>
<li><p>构造函数调用顺序：自上而下执行所有基类的构造函数，再按照成员对象的定义顺序执行各个成员对象的构造函数，再执行自身的构造函数；析构函数的调用顺序：先执行自身的析构函数，然后次序相反的依次执行所有成员对象的析构函数，最后再从底向上执行各个基类的析构函数</p>
</li>
</ul>
<h2 id="基类与派生类指针的互相转换-："><a href="#基类与派生类指针的互相转换-：" class="headerlink" title="基类与派生类指针的互相转换 ："></a>基类与派生类指针的互相转换 ：</h2><ul>
<li><p>即便基类指针指向的是一个派生类对象，也不能通过基类指针访问基类没有而派生类中有的成员</p>
</li>
<li><p>基类的指针不能赋值给派生类的指针，但是通过强制类型转换，也可以将基类指针转换成派生类指针后再赋值给派生类的指针。例如：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CBase</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">protected</span>:</span><br><span class="line">        <span class="type">int</span> n;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="built_in">CBase</span>(<span class="type">int</span> i) : <span class="built_in">n</span>(i) &#123;&#125;</span><br><span class="line">        <span class="function"><span class="type">void</span> <span class="title">Print</span><span class="params">()</span> </span>&#123;cout &lt;&lt; <span class="string">&quot;CBase n = &quot;</span> &lt;&lt; n &lt;&lt; endl;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CDrived</span> : <span class="keyword">public</span> CBase</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="type">int</span> v;</span><br><span class="line">        <span class="built_in">CDerived</span>(<span class="type">int</span> i) : <span class="built_in">Cbase</span>(i),<span class="built_in">v</span>(<span class="number">2</span>*i) &#123;&#125;</span><br><span class="line">        <span class="function"><span class="type">void</span> <span class="title">Func</span><span class="params">()</span> </span>&#123;&#125;;</span><br><span class="line">        <span class="function"><span class="type">void</span> <span class="title">Print</span><span class="params">()</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;CDerived:n=&quot;</span> &lt;&lt; n &lt;&lt; endl;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;CDerived:v=&quot;</span> &lt;&lt; v &lt;&lt; endl;\</span><br><span class="line">        &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">CDerived <span class="title">objDerived</span><span class="params">(<span class="number">3</span>)</span></span>;</span><br><span class="line">    <span class="function">CBase <span class="title">objBase</span><span class="params">(<span class="number">5</span>)</span></span>;</span><br><span class="line">    CBase * pBase = &amp; objDerived;        <span class="comment">//基类指针指向派生类对象</span></span><br><span class="line">    <span class="comment">//pBase -&gt; Func();                   //错，CBase中没有Func函数</span></span><br><span class="line">    <span class="comment">//pBase -&gt; v = 5;                    //错，CBase中没有v成员变量</span></span><br><span class="line">    pBase -&gt; <span class="built_in">Print</span>();</span><br><span class="line">    <span class="comment">//CDerived * pDerived = &amp; objBase;   //错，不能将基类指针赋值给派生类指针</span></span><br><span class="line">    CDerived * pDerived = (CDerived*) (&amp;objBase);</span><br><span class="line">    objDerived.<span class="built_in">Print</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="多层次派生-："><a href="#多层次派生-：" class="headerlink" title="多层次派生 ："></a>多层次派生 ：</h2><ul>
<li><p>派生是可以多层次的，例如类A派生类B，类B再派生类C…称类A是类B的直接基类，类A是类C的间接基类。在定义派生类时，只写直接基类，不写间接基类</p>
</li>
<li><p>派生类的成员包括派生类自己的定义的成员、这届基类中定义的成员，以及所有间接基类的全部成员</p>
</li>
</ul>
<h2 id="公有派生、保护派生和私有派生-："><a href="#公有派生、保护派生和私有派生-：" class="headerlink" title="公有派生、保护派生和私有派生 ："></a>公有派生、保护派生和私有派生 ：</h2><ul>
<li><p>基类的保护成员可以再派生类的成员函数中被访问，但是不能再继承类以外的地方被访问，例如：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">CBase</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        <span class="type">int</span> nPrivate;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="type">int</span> nPublic:</span><br><span class="line">    <span class="keyword">protected</span>:</span><br><span class="line">        <span class="type">int</span> nProtected;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CDerived</span> : <span class="keyword">public</span> CBase</span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">AccessBase</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        nPublic = <span class="number">1</span>;        <span class="comment">//OK</span></span><br><span class="line">        nPrivate = <span class="number">1</span>;       <span class="comment">//错，不能访问基类私有成员</span></span><br><span class="line">        nProtected = <span class="number">1</span>;     <span class="comment">//OK,访问从基类继承的protected成员</span></span><br><span class="line">        CBase f;</span><br><span class="line">        f.nProtected = <span class="number">1</span>    <span class="comment">//错，f不是函数所作用的对象</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;；</span><br><span class="line"><span class="type">int</span> <span class="built_in">main</span>()</span><br><span class="line">&#123;</span><br><span class="line">    CBase b;</span><br><span class="line">    CDerived d;</span><br><span class="line">    <span class="type">int</span> n = b.nProtected;   <span class="comment">//错，不在派生类成员函数内，不能访问基类的保护成员</span></span><br><span class="line">    n = d.nPrivate;         <span class="comment">//错，不能访问d的私有成员</span></span><br><span class="line">    <span class="type">int</span> m = d.nPublic;      <span class="comment">//OK</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>重点：两个表格</p>
</li>
</ul>
<table>
<thead>
<tr>
<th align="center">派生方式</th>
<th align="center">公有成员</th>
<th align="center">私有成员</th>
<th align="center">保护成员</th>
</tr>
</thead>
<tbody><tr>
<td align="center">public</td>
<td align="center">public</td>
<td align="center">不可访问</td>
<td align="center">protected</td>
</tr>
<tr>
<td align="center">private</td>
<td align="center">private</td>
<td align="center">不可访问</td>
<td align="center">private</td>
</tr>
<tr>
<td align="center">protected</td>
<td align="center">protected</td>
<td align="center">不可访问</td>
<td align="center">protected</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="center">基类成员</th>
<th align="center">可访问</th>
</tr>
</thead>
<tbody><tr>
<td align="center">private</td>
<td align="center">基类的成员函数&amp;基类的友元函数</td>
</tr>
<tr>
<td align="center">public</td>
<td align="center">基类的成员函数&amp;基类的友元函数&amp;派生类的成员函数&amp;派生类的友元函数&amp;其他函数</td>
</tr>
<tr>
<td align="center">protected</td>
<td align="center">基类的成员函数&amp;基类的友元函数&amp;派生类的成员函数</td>
</tr>
</tbody></table>
<hr>
<h1 id="第五章作业-："><a href="#第五章作业-：" class="headerlink" title="第五章作业 ："></a>第五章作业 ：</h1><h2 id="A-全面的MyString-："><a href="#A-全面的MyString-：" class="headerlink" title="A:全面的MyString ："></a>A:全面的MyString ：</h2><p>描述<br>程序填空，输出指定结果<br>#include <cstdlib><br>#include <iostream><br>using namespace std;<br>int strlen(const char * s)<br>{	int i &#x3D; 0;<br>    for(; s[i]; ++i);<br>    return i;<br>}<br>void strcpy(char * d,const char * s)<br>{<br>    int i &#x3D; 0;<br>    for( i &#x3D; 0; s[i]; ++i)<br>        d[i] &#x3D; s[i];<br>    d[i] &#x3D; 0;</p>
<p>}<br>int strcmp(const char * s1,const char * s2)<br>{<br>    for(int i &#x3D; 0; s1[i] &amp;&amp; s2[i] ; ++i) {<br>        if( s1[i] &lt; s2[i] )<br>            return -1;<br>        else if( s1[i] &gt; s2[i])<br>            return 1;<br>    }<br>    return 0;<br>}<br>void strcat(char * d,const char * s)<br>{<br>    int len &#x3D; strlen(d);<br>    strcpy(d+len,s);<br>}<br>class MyString<br>{<br>&#x2F;&#x2F; 在此处补充你的代码<br>};<br>int CompareString( const void * e1, const void * e2)<br>{<br>    MyString * s1 &#x3D; (MyString * ) e1;<br>    MyString * s2 &#x3D; (MyString * ) e2;<br>    if( * s1 &lt; *s2 )<br>    return -1;<br>    else if( *s1 &#x3D;&#x3D; *s2)<br>    return 0;<br>    else if( *s1 &gt; *s2 )<br>    return 1;<br>}<br>int main()<br>{<br>    MyString s1(“abcd-“),s2,s3(“efgh-“),s4(s1);<br>    MyString SArray[4] &#x3D; {“big”,”me”,”about”,”take”};<br>    cout &lt;&lt; “1. “ &lt;&lt; s1 &lt;&lt; s2 &lt;&lt; s3&lt;&lt; s4&lt;&lt; endl;<br>    s4 &#x3D; s3;<br>    s3 &#x3D; s1 + s3;<br>    cout &lt;&lt; “2. “ &lt;&lt; s1 &lt;&lt; endl;<br>    cout &lt;&lt; “3. “ &lt;&lt; s2 &lt;&lt; endl;<br>    cout &lt;&lt; “4. “ &lt;&lt; s3 &lt;&lt; endl;<br>    cout &lt;&lt; “5. “ &lt;&lt; s4 &lt;&lt; endl;<br>    cout &lt;&lt; “6. “ &lt;&lt; s1[2] &lt;&lt; endl;<br>    s2 &#x3D; s1;<br>    s1 &#x3D; “ijkl-“;<br>    s1[2] &#x3D; ‘A’ ;<br>    cout &lt;&lt; “7. “ &lt;&lt; s2 &lt;&lt; endl;<br>    cout &lt;&lt; “8. “ &lt;&lt; s1 &lt;&lt; endl;<br>    s1 +&#x3D; “mnop”;<br>    cout &lt;&lt; “9. “ &lt;&lt; s1 &lt;&lt; endl;<br>    s4 &#x3D; “qrst-“ + s2;<br>    cout &lt;&lt; “10. “ &lt;&lt; s4 &lt;&lt; endl;<br>    s1 &#x3D; s2 + s4 + “ uvw “ + “xyz”;<br>    cout &lt;&lt; “11. “ &lt;&lt; s1 &lt;&lt; endl;<br>    qsort(SArray,4,sizeof(MyString),CompareString);<br>    for( int i &#x3D; 0;i &lt; 4;i ++ )<br>    cout &lt;&lt; SArray[i] &lt;&lt; endl;<br>    &#x2F;&#x2F;s1的从下标0开始长度为4的子串<br>    cout &lt;&lt; s1(0,4) &lt;&lt; endl;<br>    &#x2F;&#x2F;s1的从下标5开始长度为10的子串<br>    cout &lt;&lt; s1(5,10) &lt;&lt; endl;<br>    return 0;<br>}<br>输入<br>无<br>输出</p>
<ol>
<li>abcd-efgh-abcd-</li>
<li>abcd-</li>
<li></li>
<li>abcd-efgh-</li>
<li>efgh-</li>
<li>c</li>
<li>abcd-</li>
<li>ijAl-</li>
<li>ijAl-mnop</li>
<li>qrst-abcd-</li>
<li>abcd-qrst-abcd- uvw xyz<br>about<br>big<br>me<br>take<br>abcd<br>qrst-abcd-<br>样例输入<br>无<br>样例输出</li>
<li>abcd-efgh-abcd-</li>
<li>abcd-</li>
<li></li>
<li>abcd-efgh-</li>
<li>efgh-</li>
<li>c</li>
<li>abcd-</li>
<li>ijAl-</li>
<li>ijAl-mnop</li>
<li>qrst-abcd-</li>
<li>abcd-qrst-abcd- uvw xyz<br>about<br>big<br>me<br>take<br>abcd<br>qrst-abcd-</li>
</ol>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">strlen</span><span class="params">(<span class="type">const</span> <span class="type">char</span> * s)</span> </span></span><br><span class="line"><span class="function"></span>&#123;	<span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(; s[i]; ++i);</span><br><span class="line">	<span class="keyword">return</span> i;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">strcpy</span><span class="params">(<span class="type">char</span> * d,<span class="type">const</span> <span class="type">char</span> * s)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>( i = <span class="number">0</span>; s[i]; ++i)</span><br><span class="line">		d[i] = s[i];</span><br><span class="line">	d[i] = <span class="number">0</span>;</span><br><span class="line">		</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">strcmp</span><span class="params">(<span class="type">const</span> <span class="type">char</span> * s1,<span class="type">const</span> <span class="type">char</span> * s2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; s1[i] &amp;&amp; s2[i] ; ++i) &#123;</span><br><span class="line">		<span class="keyword">if</span>( s1[i] &lt; s2[i] )</span><br><span class="line">			<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span>( s1[i] &gt; s2[i])</span><br><span class="line">			<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">strcat</span><span class="params">(<span class="type">char</span> * d,<span class="type">const</span> <span class="type">char</span> * s)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="type">int</span> len = <span class="built_in">strlen</span>(d);</span><br><span class="line">	<span class="built_in">strcpy</span>(d+len,s);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyString</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">size_t</span> len;</span><br><span class="line">	<span class="type">char</span>* str = <span class="literal">nullptr</span>;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">MyString</span>(<span class="type">const</span> <span class="type">char</span>* s)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (s == <span class="literal">nullptr</span>)</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		len = <span class="built_in">strlen</span>(s);</span><br><span class="line">		str = <span class="keyword">new</span> <span class="type">char</span>[len + <span class="number">1</span>];</span><br><span class="line">		<span class="built_in">strcpy</span>(str, s);</span><br><span class="line">		str[<span class="built_in">strlen</span>(s)] = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">MyString</span>()</span><br><span class="line">	&#123;</span><br><span class="line">		len = <span class="number">0</span>;</span><br><span class="line">		str = <span class="literal">nullptr</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	~<span class="built_in">MyString</span>()</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (str)</span><br><span class="line">			<span class="keyword">delete</span>[]str;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">MyString</span>(<span class="type">const</span> MyString&amp; mys)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (mys.str == <span class="literal">nullptr</span>)</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">		&#123;</span><br><span class="line">			len = <span class="built_in">strlen</span>(mys.str);</span><br><span class="line">			str = <span class="keyword">new</span> <span class="type">char</span>[len + <span class="number">1</span>];</span><br><span class="line">			<span class="built_in">strcpy</span>(str, mys.str);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">friend</span> ostream&amp; <span class="keyword">operator</span>&lt;&lt;(ostream&amp; cout, <span class="type">const</span> MyString&amp; s)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (s.str != <span class="literal">nullptr</span>)</span><br><span class="line">			cout &lt;&lt; s.str;</span><br><span class="line">		<span class="keyword">return</span> cout;</span><br><span class="line">	&#125;</span><br><span class="line">	MyString&amp; <span class="keyword">operator</span>=(<span class="type">const</span> MyString&amp; mys)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (mys.str == str)</span><br><span class="line">			<span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">if</span> (str)</span><br><span class="line">				<span class="keyword">delete</span>[]str;</span><br><span class="line">			len = <span class="built_in">strlen</span>(mys.str);</span><br><span class="line">			str = <span class="keyword">new</span> <span class="type">char</span>[len + <span class="number">1</span>];</span><br><span class="line">			<span class="built_in">strcpy</span>(str, mys.str);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	MyString <span class="keyword">operator</span>+(<span class="type">const</span> MyString&amp; mys)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (mys.str == <span class="literal">nullptr</span>)</span><br><span class="line">			<span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">		MyString tempmys;</span><br><span class="line">		tempmys.len =len + <span class="built_in">strlen</span>(mys.str);</span><br><span class="line">		tempmys.str = <span class="keyword">new</span> <span class="type">char</span>[tempmys.len + <span class="number">1</span>];</span><br><span class="line">		<span class="built_in">strcpy</span>(tempmys.str, str);</span><br><span class="line">		<span class="built_in">strcat</span>(tempmys.str, mys.str);</span><br><span class="line">		<span class="keyword">return</span> tempmys;</span><br><span class="line">	&#125;</span><br><span class="line">	MyString <span class="keyword">operator</span>+(<span class="type">const</span> <span class="type">char</span>* s)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="function">MyString <span class="title">mys</span><span class="params">(s)</span></span>;</span><br><span class="line">		<span class="keyword">return</span> *<span class="keyword">this</span> + mys;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">friend</span> MyString <span class="keyword">operator</span>+(<span class="type">const</span> <span class="type">char</span>* s,  <span class="type">const</span> MyString&amp; rhs)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="function">MyString <span class="title">mys</span><span class="params">(s)</span></span>;</span><br><span class="line">		<span class="keyword">return</span> mys + rhs;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	MyString&amp; <span class="keyword">operator</span>+=(<span class="type">const</span> <span class="type">char</span>* s)</span><br><span class="line">	&#123;</span><br><span class="line">		MyString <span class="built_in">mys</span>(s);</span><br><span class="line">		*<span class="keyword">this</span> = *<span class="keyword">this</span> + mys;</span><br><span class="line">		<span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function">MyString <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="type">int</span> i, <span class="type">int</span> j)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		MyString mys;</span><br><span class="line">		mys.len = j;</span><br><span class="line">		<span class="type">char</span>* temps = <span class="keyword">new</span> <span class="type">char</span>[j<span class="number">+1</span>];</span><br><span class="line">		<span class="type">int</span> start = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span> (start = <span class="number">0</span>; start &lt; j; start++)</span><br><span class="line">			temps[start] = str[i + start];</span><br><span class="line">		temps[start] = <span class="number">0</span>;</span><br><span class="line">		mys.str = temps;</span><br><span class="line">		<span class="keyword">return</span> mys;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="type">int</span> <span class="keyword">operator</span>&lt;(<span class="type">const</span> MyString&amp; rhs)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (<span class="built_in">strcmp</span>(str, rhs.str) &lt; <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">			<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="type">int</span> <span class="keyword">operator</span>==(<span class="type">const</span> MyString&amp; rhs)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (<span class="built_in">strcmp</span>(str, rhs.str) == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">			<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="type">int</span> <span class="keyword">operator</span>&gt;(<span class="type">const</span> MyString&amp; rhs)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (<span class="built_in">strcmp</span>(str, rhs.str) &gt; <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">			<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="type">char</span>&amp; <span class="keyword">operator</span>[](<span class="type">int</span> i)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> str[i];</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">CompareString</span><span class="params">( <span class="type">const</span> <span class="type">void</span> * e1, <span class="type">const</span> <span class="type">void</span> * e2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	MyString * s1 = (MyString * ) e1;</span><br><span class="line">	MyString * s2 = (MyString * ) e2;</span><br><span class="line">	<span class="keyword">if</span>( * s1 &lt; *s2 )</span><br><span class="line">	<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span>( *s1 == *s2)</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span>( *s1 &gt; *s2 )</span><br><span class="line">	<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="function">MyString <span class="title">s1</span><span class="params">(<span class="string">&quot;abcd-&quot;</span>)</span>,s2,<span class="title">s3</span><span class="params">(<span class="string">&quot;efgh-&quot;</span>)</span>,<span class="title">s4</span><span class="params">(s1)</span></span>;</span><br><span class="line">	MyString SArray[<span class="number">4</span>] = &#123;<span class="string">&quot;big&quot;</span>,<span class="string">&quot;me&quot;</span>,<span class="string">&quot;about&quot;</span>,<span class="string">&quot;take&quot;</span>&#125;;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;1. &quot;</span> &lt;&lt; s1 &lt;&lt; s2 &lt;&lt; s3&lt;&lt; s4&lt;&lt; endl;</span><br><span class="line">	s4 = s3;</span><br><span class="line">	s3 = s1 + s3;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;2. &quot;</span> &lt;&lt; s1 &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;3. &quot;</span> &lt;&lt; s2 &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;4. &quot;</span> &lt;&lt; s3 &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;5. &quot;</span> &lt;&lt; s4 &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;6. &quot;</span> &lt;&lt; s1[<span class="number">2</span>] &lt;&lt; endl;</span><br><span class="line">	s2 = s1;</span><br><span class="line">	s1 = <span class="string">&quot;ijkl-&quot;</span>;</span><br><span class="line">	s1[<span class="number">2</span>] = <span class="string">&#x27;A&#x27;</span> ;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;7. &quot;</span> &lt;&lt; s2 &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;8. &quot;</span> &lt;&lt; s1 &lt;&lt; endl;</span><br><span class="line">	s1 += <span class="string">&quot;mnop&quot;</span>;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;9. &quot;</span> &lt;&lt; s1 &lt;&lt; endl;</span><br><span class="line">	s4 = <span class="string">&quot;qrst-&quot;</span> + s2;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;10. &quot;</span> &lt;&lt; s4 &lt;&lt; endl;</span><br><span class="line">	s1 = s2 + s4 + <span class="string">&quot; uvw &quot;</span> + <span class="string">&quot;xyz&quot;</span>;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;11. &quot;</span> &lt;&lt; s1 &lt;&lt; endl;</span><br><span class="line">	<span class="built_in">qsort</span>(SArray,<span class="number">4</span>,<span class="built_in">sizeof</span>(MyString),CompareString);</span><br><span class="line">	<span class="keyword">for</span>( <span class="type">int</span> i = <span class="number">0</span>;i &lt; <span class="number">4</span>;i ++ )</span><br><span class="line">	cout &lt;&lt; SArray[i] &lt;&lt; endl;</span><br><span class="line">	<span class="comment">//s1的从下标0开始长度为4的子串</span></span><br><span class="line">	cout &lt;&lt; <span class="built_in">s1</span>(<span class="number">0</span>,<span class="number">4</span>) &lt;&lt; endl;</span><br><span class="line">	<span class="comment">//s1的从下标5开始长度为10的子串</span></span><br><span class="line">	cout &lt;&lt; <span class="built_in">s1</span>(<span class="number">5</span>,<span class="number">10</span>) &lt;&lt; endl;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="B-继承自string的MyString"><a href="#B-继承自string的MyString" class="headerlink" title="B:继承自string的MyString :"></a>B:继承自string的MyString :</h2><p>描述<br>程序填空，输出指定结果<br>#include <cstdlib><br>#include <iostream><br>#include <string><br>#include <algorithm><br>using namespace std;<br>class MyString:public string<br>{<br>&#x2F;&#x2F; 在此处补充你的代码<br>};<br>int main()<br>{<br>    MyString s1(“abcd-“),s2,s3(“efgh-“),s4(s1);<br>    MyString SArray[4] &#x3D; {“big”,”me”,”about”,”take”};<br>    cout &lt;&lt; “1. “ &lt;&lt; s1 &lt;&lt; s2 &lt;&lt; s3&lt;&lt; s4&lt;&lt; endl;<br>    s4 &#x3D; s3;<br>    s3 &#x3D; s1 + s3;<br>    cout &lt;&lt; “2. “ &lt;&lt; s1 &lt;&lt; endl;<br>    cout &lt;&lt; “3. “ &lt;&lt; s2 &lt;&lt; endl;<br>    cout &lt;&lt; “4. “ &lt;&lt; s3 &lt;&lt; endl;<br>    cout &lt;&lt; “5. “ &lt;&lt; s4 &lt;&lt; endl;<br>    cout &lt;&lt; “6. “ &lt;&lt; s1[2] &lt;&lt; endl;<br>    s2 &#x3D; s1;<br>    s1 &#x3D; “ijkl-“;<br>    s1[2] &#x3D; ‘A’ ;<br>    cout &lt;&lt; “7. “ &lt;&lt; s2 &lt;&lt; endl;<br>    cout &lt;&lt; “8. “ &lt;&lt; s1 &lt;&lt; endl;<br>    s1 +&#x3D; “mnop”;<br>    cout &lt;&lt; “9. “ &lt;&lt; s1 &lt;&lt; endl;<br>    s4 &#x3D; “qrst-“ + s2;<br>    cout &lt;&lt; “10. “ &lt;&lt; s4 &lt;&lt; endl;<br>    s1 &#x3D; s2 + s4 + “ uvw “ + “xyz”;<br>    cout &lt;&lt; “11. “ &lt;&lt; s1 &lt;&lt; endl;<br>        sort(SArray,SArray+4);<br>    for( int i &#x3D; 0;i &lt; 4;i ++ )<br>    cout &lt;&lt; SArray[i] &lt;&lt; endl;<br>    &#x2F;&#x2F;s1的从下标0开始长度为4的子串<br>    cout &lt;&lt; s1(0,4) &lt;&lt; endl;<br>    &#x2F;&#x2F;s1的从下标5开始长度为10的子串<br>    cout &lt;&lt; s1(5,10) &lt;&lt; endl;<br>    return 0;<br>}<br>输入<br>无<br>输出</p>
<ol>
<li>abcd-efgh-abcd-</li>
<li>abcd-</li>
<li></li>
<li>abcd-efgh-</li>
<li>efgh-</li>
<li>c</li>
<li>abcd-</li>
<li>ijAl-</li>
<li>ijAl-mnop</li>
<li>qrst-abcd-</li>
<li>abcd-qrst-abcd- uvw xyz<br>about<br>big<br>me<br>take<br>abcd<br>qrst-abcd-<br>样例输入<br>无<br>样例输出</li>
<li>abcd-efgh-abcd-</li>
<li>abcd-</li>
<li></li>
<li>abcd-efgh-</li>
<li>efgh-</li>
<li>c</li>
<li>abcd-</li>
<li>ijAl-</li>
<li>ijAl-mnop</li>
<li>qrst-abcd-</li>
<li>abcd-qrst-abcd- uvw xyz<br>about<br>big<br>me<br>take<br>abcd<br>qrst-abcd-<br>提示<br>1：如果将程序中所有 “MyString” 用 “string” 替换，那么除<br>了最后两条红色的语句编译无法通过外，其他语句都没有问题，而且输出和前<br>面给的结果吻合。也就是说，MyString 类对 string 类的功能扩充只体现在最<br>后两条语句上面。<br>提示 2: string 类有一个成员函数 string substr(int start,int<br>length); 能够求从 start 位置开始，长度为 length 的子串<br>提示 3: C++中，派生类的对象可以赋值给基类对象，因为，一个派生<br>类对象，也可看作是一个基类对象（大学生是学生）。反过来则不行(学生未<br>必是大学生） 同样，调用需要基类对象作参数的函数时，以派生类对象作为实参，也是没有问题的</li>
</ol>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyString</span>:<span class="keyword">public</span> string</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">strlen</span><span class="params">(<span class="type">const</span> <span class="type">char</span> *s)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (; s[i]; ++i)</span><br><span class="line">		;</span><br><span class="line">	<span class="keyword">return</span> i;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">strcpy</span><span class="params">(<span class="type">char</span> *d, <span class="type">const</span> <span class="type">char</span> *s)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (i = <span class="number">0</span>; s[i]; ++i)</span><br><span class="line">		d[i] = s[i];</span><br><span class="line">	d[i] = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">strcmp</span><span class="params">(<span class="type">const</span> <span class="type">char</span> *s1, <span class="type">const</span> <span class="type">char</span> *s2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; s1[i] &amp;&amp; s2[i]; ++i)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (s1[i] &lt; s2[i])</span><br><span class="line">			<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (s1[i] &gt; s2[i])</span><br><span class="line">			<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">strcat</span><span class="params">(<span class="type">char</span> *d, <span class="type">const</span> <span class="type">char</span> *s)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="type">int</span> len = <span class="built_in">strlen</span>(d);</span><br><span class="line">	<span class="built_in">strcpy</span>(d + len, s);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">CompareString</span><span class="params">(<span class="type">const</span> <span class="type">void</span> *e1, <span class="type">const</span> <span class="type">void</span> *e2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	MyString *s1 = (MyString *)e1;</span><br><span class="line">	MyString *s2 = (MyString *)e2;</span><br><span class="line">	<span class="keyword">if</span> (*s1 &lt; *s2)</span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span> (*s1 == *s2)</span><br><span class="line">		<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span> (*s1 &gt; *s2)</span><br><span class="line">		<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">	<span class="type">size_t</span> len;</span><br><span class="line">	<span class="type">char</span> *str = <span class="literal">nullptr</span>;</span><br><span class="line">    <span class="type">int</span> order[<span class="number">4</span>]=&#123;<span class="number">2</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">3</span>&#125;;</span><br><span class="line">	<span class="built_in">MyString</span>(<span class="type">const</span> <span class="type">char</span> *s)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (s == <span class="literal">nullptr</span>)</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		len = <span class="built_in">strlen</span>(s);</span><br><span class="line">		str = <span class="keyword">new</span> <span class="type">char</span>[len + <span class="number">1</span>];</span><br><span class="line">		<span class="built_in">strcpy</span>(str, s);</span><br><span class="line">		str[<span class="built_in">strlen</span>(s)] = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">MyString</span>()</span><br><span class="line">	&#123;</span><br><span class="line">		len = <span class="number">0</span>;</span><br><span class="line">		str = <span class="literal">nullptr</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	~<span class="built_in">MyString</span>()</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="comment">//一定得判断str是否是空，要不删除一个空指针应该是不行的吧</span></span><br><span class="line">		<span class="keyword">if</span> (str)</span><br><span class="line">			<span class="keyword">delete</span>[] str;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">MyString</span>(<span class="type">const</span> MyString &amp;mys)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (mys.str == <span class="literal">nullptr</span>)</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">		&#123;</span><br><span class="line">			len = <span class="built_in">strlen</span>(mys.str);</span><br><span class="line">			str = <span class="keyword">new</span> <span class="type">char</span>[len + <span class="number">1</span>];</span><br><span class="line">			<span class="built_in">strcpy</span>(str, mys.str);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">friend</span> ostream &amp;<span class="keyword">operator</span>&lt;&lt;(ostream &amp;os, <span class="type">const</span> MyString &amp;s)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (s.str != <span class="literal">nullptr</span>)</span><br><span class="line">			os &lt;&lt; s.str;</span><br><span class="line">		<span class="keyword">return</span> os;</span><br><span class="line">	&#125;</span><br><span class="line">	MyString &amp;<span class="keyword">operator</span>=(<span class="type">const</span> MyString &amp;mys)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (mys.str == str)</span><br><span class="line">			<span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">if</span> (str)</span><br><span class="line">				<span class="keyword">delete</span>[] str;</span><br><span class="line">			len = <span class="built_in">strlen</span>(mys.str);</span><br><span class="line">			str = <span class="keyword">new</span> <span class="type">char</span>[len + <span class="number">1</span>];</span><br><span class="line">			<span class="built_in">strcpy</span>(str, mys.str);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	MyString <span class="keyword">operator</span>+(<span class="type">const</span> MyString &amp;mys)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (mys.str == <span class="literal">nullptr</span>)</span><br><span class="line">			<span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">		MyString tempmys;</span><br><span class="line">		tempmys.len = len + <span class="built_in">strlen</span>(mys.str);</span><br><span class="line">		tempmys.str = <span class="keyword">new</span> <span class="type">char</span>[tempmys.len + <span class="number">1</span>];</span><br><span class="line">		<span class="comment">//先把原来的赋值给strtemp</span></span><br><span class="line">		<span class="built_in">strcpy</span>(tempmys.str, str);</span><br><span class="line">		<span class="built_in">strcat</span>(tempmys.str, mys.str);</span><br><span class="line">		<span class="keyword">return</span> tempmys;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">// bug 2 注意顺序。。。这不是加减法！！！重载的成意思是字符串的拼接，所以*this在前面，s在后面</span></span><br><span class="line">	MyString <span class="keyword">operator</span>+(<span class="type">const</span> <span class="type">char</span> *s)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="function">MyString <span class="title">mys</span><span class="params">(s)</span></span>;</span><br><span class="line">		<span class="keyword">return</span> *<span class="keyword">this</span> + mys;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">friend</span> MyString <span class="keyword">operator</span>+(<span class="type">const</span> <span class="type">char</span> *s, <span class="type">const</span> MyString &amp;rhs)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="function">MyString <span class="title">mys</span><span class="params">(s)</span></span>;</span><br><span class="line">		<span class="keyword">return</span> mys + rhs;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">// bug 3 注意，+=返回的是引用，因为mys+=&quot;abc&quot;这句话，相当于是mys.operator(+=)(&quot;abc&quot;)，要想作用到mys上，必须返回当前对象*this的引用</span></span><br><span class="line">	MyString &amp;<span class="keyword">operator</span>+=(<span class="type">const</span> <span class="type">char</span> *s)</span><br><span class="line">	&#123;</span><br><span class="line">		MyString <span class="built_in">mys</span>(s);</span><br><span class="line">		*<span class="keyword">this</span> = *<span class="keyword">this</span> + mys;</span><br><span class="line">		<span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//这里不能返回数组，因为这样的话，自己要new出一个空间复制原来的数据，但是new后不会再自己释放，它不是类，不会造成内存泄露！！！！</span></span><br><span class="line">	<span class="comment">//但是这样又会存在一个问题，即如果我想通过这样的下标修改某一块的值时不行，因为是两块内存</span></span><br><span class="line">	<span class="function">MyString <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="type">int</span> i, <span class="type">int</span> j)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		MyString mys;</span><br><span class="line">		mys.len = j;</span><br><span class="line">		<span class="type">char</span> *temps = <span class="keyword">new</span> <span class="type">char</span>[j + <span class="number">1</span>];</span><br><span class="line">		<span class="type">int</span> start = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span> (start = <span class="number">0</span>; start &lt; j; start++)</span><br><span class="line">			temps[start] = str[i + start];</span><br><span class="line">		temps[start] = <span class="number">0</span>;</span><br><span class="line">		mys.str = temps;</span><br><span class="line">		<span class="keyword">return</span> mys;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="type">bool</span> <span class="keyword">operator</span>&lt;(<span class="type">const</span> MyString &amp;rhs)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (<span class="built_in">strcmp</span>(str, rhs.str) &lt; <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">			<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="type">bool</span> <span class="keyword">operator</span>==(<span class="type">const</span> MyString &amp;rhs)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (<span class="built_in">strcmp</span>(str, rhs.str) == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">			<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="type">bool</span> <span class="keyword">operator</span>&gt;(<span class="type">const</span> MyString &amp;rhs)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (<span class="built_in">strcmp</span>(str, rhs.str) &gt; <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">			<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="type">char</span>&amp; <span class="keyword">operator</span>[](<span class="type">int</span> i)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> str[i];</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="function">MyString <span class="title">s1</span><span class="params">(<span class="string">&quot;abcd-&quot;</span>)</span>,s2,<span class="title">s3</span><span class="params">(<span class="string">&quot;efgh-&quot;</span>)</span>,<span class="title">s4</span><span class="params">(s1)</span></span>;</span><br><span class="line">	MyString SArray[<span class="number">4</span>] = &#123;<span class="string">&quot;big&quot;</span>,<span class="string">&quot;me&quot;</span>,<span class="string">&quot;about&quot;</span>,<span class="string">&quot;take&quot;</span>&#125;;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;1. &quot;</span> &lt;&lt; s1 &lt;&lt; s2 &lt;&lt; s3&lt;&lt; s4&lt;&lt; endl;</span><br><span class="line">	s4 = s3;</span><br><span class="line">	s3 = s1 + s3;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;2. &quot;</span> &lt;&lt; s1 &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;3. &quot;</span> &lt;&lt; s2 &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;4. &quot;</span> &lt;&lt; s3 &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;5. &quot;</span> &lt;&lt; s4 &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;6. &quot;</span> &lt;&lt; s1[<span class="number">2</span>] &lt;&lt; endl;</span><br><span class="line">	s2 = s1;</span><br><span class="line">	s1 = <span class="string">&quot;ijkl-&quot;</span>;</span><br><span class="line">	s1[<span class="number">2</span>] = <span class="string">&#x27;A&#x27;</span> ;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;7. &quot;</span> &lt;&lt; s2 &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;8. &quot;</span> &lt;&lt; s1 &lt;&lt; endl;</span><br><span class="line">	s1 += <span class="string">&quot;mnop&quot;</span>;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;9. &quot;</span> &lt;&lt; s1 &lt;&lt; endl;</span><br><span class="line">	s4 = <span class="string">&quot;qrst-&quot;</span> + s2;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;10. &quot;</span> &lt;&lt; s4 &lt;&lt; endl;</span><br><span class="line">	s1 = s2 + s4 + <span class="string">&quot; uvw &quot;</span> + <span class="string">&quot;xyz&quot;</span>;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;11. &quot;</span> &lt;&lt; s1 &lt;&lt; endl;</span><br><span class="line">        <span class="built_in">sort</span>(SArray,SArray<span class="number">+4</span>);</span><br><span class="line">	<span class="keyword">for</span>( <span class="type">int</span> i = <span class="number">0</span>;i &lt; <span class="number">4</span>;i ++ )</span><br><span class="line">	cout &lt;&lt; SArray[i] &lt;&lt; endl;</span><br><span class="line">	<span class="comment">//s1的从下标0开始长度为4的子串</span></span><br><span class="line">	cout &lt;&lt; <span class="built_in">s1</span>(<span class="number">0</span>,<span class="number">4</span>) &lt;&lt; endl;</span><br><span class="line">	<span class="comment">//s1的从下标5开始长度为10的子串</span></span><br><span class="line">	cout &lt;&lt; <span class="built_in">s1</span>(<span class="number">5</span>,<span class="number">10</span>) &lt;&lt; endl;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="第六章-多态和虚函数-："><a href="#第六章-多态和虚函数-：" class="headerlink" title="第六章 多态和虚函数 ："></a>第六章 多态和虚函数 ：</h1><h2 id="多态的基本概念-："><a href="#多态的基本概念-：" class="headerlink" title="多态的基本概念 ："></a>多态的基本概念 ：</h2><ul>
<li><p>对于通过基类指针调用基类和派生类中都有的同名、同参数的虚函数的语句，如果基类指针指向的是一个基类对象，则基类的虚函数被调用；如果基类指针指向的是一个派生类对象，则派生类的虚函数被调用，这种机制被称为“多态”</p>
</li>
<li><p>虚函数是函数声明前加了virtual关键词的成员函数，virtual关键字只在类定义中的成员函数声明处使用，不能在类外部写成员函数体时使用</p>
</li>
<li><p>静态成员函数不能是虚函数</p>
</li>
<li><p>包含虚函数的类被称为“多态类”，例如</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">Print</span><span class="params">()</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;A::Print&quot;</span> &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span> : <span class="keyword">public</span> A</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">Print</span><span class="params">()</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;B::Print&quot;</span> &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">D</span> : <span class="keyword">public</span> A</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">Print</span><span class="params">()</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;D::Print&quot;</span> &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">E</span> : <span class="keyword">public</span> A</span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">Print</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;E::Print&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125; </span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    A a;B b;D d;E e;</span><br><span class="line">    A* pa = &amp; a;B* pb = &amp; b;</span><br><span class="line">    pa -&gt; <span class="built_in">Print</span>();              <span class="comment">//多态，a.Print()被调用，输出A::Print</span></span><br><span class="line">    pa = pb;                    <span class="comment">//基类指针pa指向派生类对象b</span></span><br><span class="line">    pa -&gt; <span class="built_in">Print</span>();              <span class="comment">//b.Print()被调用，输出B::Print</span></span><br><span class="line">    pa = &amp; d;                   <span class="comment">//基类指针pa指向派生类对象d</span></span><br><span class="line">    pa -&gt; <span class="built_in">Print</span>();              <span class="comment">//多态，d.Print()被调用，输出D::Print</span></span><br><span class="line">    pa = &amp; e;                   <span class="comment">//基类指针指向派生类对象e</span></span><br><span class="line">    pa -&gt; <span class="built_in">Print</span>();              <span class="comment">//多态，e.Print()被调用</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">程序的输出结果是：</span></span><br><span class="line"><span class="comment">A::Print</span></span><br><span class="line"><span class="comment">B::Print</span></span><br><span class="line"><span class="comment">D::Print</span></span><br><span class="line"><span class="comment">E::Print</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="通过基类引用实现多态-："><a href="#通过基类引用实现多态-：" class="headerlink" title="通过基类引用实现多态 ："></a>通过基类引用实现多态 ：</h2><ul>
<li><p>通过基类的引用调用虚函数的语句也是多态的。即通过基类的引用调用基类和派生类的同名、同参数表时，若其引用的是一个基类的对象，则被调用是基类的虚函数；若其引用的是一个派生类的对象，则被调用的是派生类的虚函数。例如：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">Print</span><span class="params">()</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;A::Print&quot;</span> &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span> : <span class="keyword">public</span> A</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">Print</span><span class="params">()</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;B::Print&quot;</span> &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">PrintInfo</span><span class="params">(A &amp; r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    r.<span class="built_in">Print</span>();           <span class="comment">//多态，调用哪个Print，取决于r引用了那个类型的对象</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    A a;</span><br><span class="line">    B b;</span><br><span class="line">    <span class="built_in">PrintInfo</span>(a);       <span class="comment">//输出A::Print</span></span><br><span class="line">    <span class="built_in">PrintInfo</span>(b);       <span class="comment">//输出B::Print</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>传引用体现了多态的主要作用：增强程序的可扩充性，精简代码</p>
</li>
</ul>
<h2 id="关于多态的注意事项"><a href="#关于多态的注意事项" class="headerlink" title="关于多态的注意事项"></a>关于多态的注意事项</h2><ul>
<li><p>在成员函数(静态成员函数、构造函数和析构函数除外)中调用其他虚成员函数时多态的，例如：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CBase</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="function"><span class="type">void</span> <span class="title">func1</span><span class="params">()</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            <span class="built_in">func2</span>();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">func2</span><span class="params">()</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;CBase::func2()&quot;</span> &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CDerived</span> : <span class="keyword">public</span> CBase</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">func2</span><span class="params">()</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;CDerived:func2()&quot;</span> &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    CDerived d;</span><br><span class="line">    d.<span class="built_in">func1</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">程序的输出结果是：</span></span><br><span class="line"><span class="comment">CDerived: func2()</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>在构造函数和析构函数中调用虚函数不是多态</p>
</li>
<li><p>只要积累中的某干函数被声明为虚函数，则派生类的同名同参的成员函数即使前面不写virtual，也自动成为虚函数</p>
</li>
<li><p>只要基类的析构函数是虚函数，那么派生类的析构函数不论是否使用virtual来声明，都自动成为虚析构函数</p>
</li>
<li><p>一般来说，一个类如果定义了虚函数，则最好也将虚构函数定义为虚函数。析构函数可以是不函数，但是构造函数和静态成员函数不能是虚函数</p>
</li>
<li><p>可以在虚函数中使用this指针</p>
</li>
</ul>
<h2 id="纯虚函数和抽象类"><a href="#纯虚函数和抽象类" class="headerlink" title="纯虚函数和抽象类"></a>纯虚函数和抽象类</h2><ul>
<li><p>纯虚函数就是没有函数体的虚函数。包含纯虚函数的类就叫抽象类</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">A</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        <span class="type">int</span> a;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">Print</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">        <span class="function"><span class="type">void</span> <span class="title">fun1</span><span class="params">()</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;fun1&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>抽象类不能生成独立的对象，例如：A a;A * p &#x3D; new A;A a[2];等语句都会编译出错</p>
</li>
<li><p>抽象类的对象不存在，但是被包含在派生类对象中的抽象类的对象是可以存在的</p>
</li>
<li><p>类函数的初始化常用：T a &#x3D; T();</p>
</li>
</ul>
<hr>
<h1 id="第六章作业-："><a href="#第六章作业-：" class="headerlink" title="第六章作业 ："></a>第六章作业 ：</h1><h2 id="A-看上去像多态-："><a href="#A-看上去像多态-：" class="headerlink" title="A:看上去像多态 ："></a>A:看上去像多态 ：</h2><p>描述<br>程序填空产生指定输出<br>#include <iostream><br>using namespace std;<br>class B {<br>    private:<br>        int nBVal;<br>    public:<br>        void Print()<br>        { cout &lt;&lt; “nBVal&#x3D;”&lt;&lt; nBVal &lt;&lt; endl; }<br>        void Fun()<br>        {cout &lt;&lt; “B::Fun” &lt;&lt; endl; }<br>        B ( int n ) { nBVal &#x3D; n;}<br>};<br>&#x2F;&#x2F; 在此处补充你的代码<br>int main() {<br>    B * pb; D * pd;<br>    D d(4); d.Fun();<br>    pb &#x3D; new B(2); pd &#x3D; new D(8);<br>    pb -&gt; Fun(); pd-&gt;Fun();<br>    pb-&gt;Print (); pd-&gt;Print ();<br>    pb &#x3D; &amp; d; pb-&gt;Fun();<br>    pb-&gt;Print();<br>    return 0;<br>}<br>输入<br>无<br>输出<br>D::Fun<br>B::Fun<br>D::Fun<br>nBVal&#x3D;2<br>nBVal&#x3D;24<br>nDVal&#x3D;8<br>B::Fun<br>nBVal&#x3D;12<br>样例输入<br>无<br>样例输出<br>D::Fun<br>B::Fun<br>D::Fun<br>nBVal&#x3D;2<br>nBVal&#x3D;24<br>nDVal&#x3D;8<br>B::Fun<br>nBVal&#x3D;12</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span> &#123; </span><br><span class="line">	<span class="keyword">private</span>: </span><br><span class="line">		<span class="type">int</span> nBVal; </span><br><span class="line">	<span class="keyword">public</span>: </span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">Print</span><span class="params">()</span> </span></span><br><span class="line"><span class="function">		</span>&#123; cout &lt;&lt; <span class="string">&quot;nBVal=&quot;</span>&lt;&lt; nBVal &lt;&lt; endl; &#125; </span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">Fun</span><span class="params">()</span> </span></span><br><span class="line"><span class="function">		</span>&#123;cout &lt;&lt; <span class="string">&quot;B::Fun&quot;</span> &lt;&lt; endl; &#125; </span><br><span class="line">		<span class="built_in">B</span> ( <span class="type">int</span> n ) &#123; nBVal = n;&#125; </span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">D</span> :<span class="keyword">public</span> B </span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="type">int</span> nDVal;</span><br><span class="line">    <span class="built_in">D</span>(<span class="type">int</span> x) : <span class="built_in">B</span>(x*<span class="number">3</span>) &#123;</span><br><span class="line">        nDVal = x;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">Print</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;nBVal=24&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;nDVal=&quot;</span>&lt;&lt; nDVal &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">Fun</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;D::Fun&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123; </span><br><span class="line">	B * pb; D * pd; </span><br><span class="line">	<span class="function">D <span class="title">d</span><span class="params">(<span class="number">4</span>)</span></span>; d.<span class="built_in">Fun</span>(); </span><br><span class="line">	pb = <span class="keyword">new</span> <span class="built_in">B</span>(<span class="number">2</span>); pd = <span class="keyword">new</span> <span class="built_in">D</span>(<span class="number">8</span>); </span><br><span class="line">	pb -&gt; <span class="built_in">Fun</span>(); pd-&gt;<span class="built_in">Fun</span>(); </span><br><span class="line">	pb-&gt;<span class="built_in">Print</span> (); pd-&gt;<span class="built_in">Print</span> (); </span><br><span class="line">	pb = &amp; d; pb-&gt;<span class="built_in">Fun</span>(); </span><br><span class="line">	pb-&gt;<span class="built_in">Print</span>(); </span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="B-Fun和Do"><a href="#B-Fun和Do" class="headerlink" title="B:Fun和Do :"></a>B:Fun和Do :</h2><p>描述<br>程序填空输出指定结果<br>#include <iostream><br>using namespace std;<br>class A {<br>    private:<br>    int nVal;<br>    public:<br>    void Fun()<br>    { cout &lt;&lt; “A::Fun” &lt;&lt; endl; };<br>    void Do()<br>    { cout &lt;&lt; “A::Do” &lt;&lt; endl; }<br>};<br>class B:public A {<br>    public:<br>    virtual void Do()<br>    { cout &lt;&lt; “B::Do” &lt;&lt; endl;}<br>};<br>class C:public B {<br>    public:<br>    void Do( )<br>    { cout &lt;&lt;”C::Do”&lt;&lt;endl; }<br>    void Fun()<br>    { cout &lt;&lt; “C::Fun” &lt;&lt; endl; }<br>};<br>void Call(<br>&#x2F;&#x2F; 在此处补充你的代码<br>) {<br>    p.Fun(); p.Do();<br>}<br>int main() {<br>    C c;<br>    Call( c);<br>    return 0;<br>}<br>输入<br>无<br>输出<br>A::Fun<br>C::Do<br>样例输入<br>None<br>样例输出<br>A::Fun<br>C::Do </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span> </span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span> &#123; </span><br><span class="line">	<span class="keyword">private</span>: </span><br><span class="line">	<span class="type">int</span> nVal; </span><br><span class="line">	<span class="keyword">public</span>: </span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">Fun</span><span class="params">()</span> </span></span><br><span class="line"><span class="function">	</span>&#123; cout &lt;&lt; <span class="string">&quot;A::Fun&quot;</span> &lt;&lt; endl; &#125;; </span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">Do</span><span class="params">()</span> </span></span><br><span class="line"><span class="function">	</span>&#123; cout &lt;&lt; <span class="string">&quot;A::Do&quot;</span> &lt;&lt; endl; &#125; </span><br><span class="line">&#125;; </span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span>:<span class="keyword">public</span> A &#123; </span><br><span class="line">	<span class="keyword">public</span>: </span><br><span class="line">	<span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">Do</span><span class="params">()</span> </span></span><br><span class="line"><span class="function">	</span>&#123; cout &lt;&lt; <span class="string">&quot;B::Do&quot;</span> &lt;&lt; endl;&#125; </span><br><span class="line">&#125;; </span><br><span class="line"><span class="keyword">class</span> <span class="title class_">C</span>:<span class="keyword">public</span> B &#123; </span><br><span class="line">	<span class="keyword">public</span>: </span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">Do</span><span class="params">( )</span> </span></span><br><span class="line"><span class="function">	</span>&#123; cout &lt;&lt;<span class="string">&quot;C::Do&quot;</span>&lt;&lt;endl; &#125; </span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">Fun</span><span class="params">()</span> </span></span><br><span class="line"><span class="function">	</span>&#123; cout &lt;&lt; <span class="string">&quot;C::Fun&quot;</span> &lt;&lt; endl; &#125; </span><br><span class="line">&#125;; </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Call</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">B &amp;p</span></span></span><br><span class="line"><span class="params"><span class="function">)</span> </span>&#123; </span><br><span class="line">	p.<span class="built_in">Fun</span>(); p.<span class="built_in">Do</span>(); </span><br><span class="line">&#125; </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123; </span><br><span class="line">	C c; </span><br><span class="line">	<span class="built_in">Call</span>( c); </span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="C-这是什么鬼delete"><a href="#C-这是什么鬼delete" class="headerlink" title="C:这是什么鬼delete :"></a>C:这是什么鬼delete :</h2><p>描述<br>程序填空输出指定结果<br>#include <iostream><br>using namespace std;<br>class A<br>{<br>public:<br>    A() { }<br>&#x2F;&#x2F; 在此处补充你的代码<br>};<br>class B:public A {<br>    public:<br>    ~B() { cout &lt;&lt; “destructor B” &lt;&lt; endl; }<br>};<br>int main()<br>{<br>    A * pa;<br>    pa &#x3D; new B;<br>    delete pa;<br>    return 0;<br>}<br>输入<br>无<br>输出<br>destructor B<br>destructor A<br>样例输入<br>无<br>样例输出<br>destructor B<br>destructor A</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span> </span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span> </span><br><span class="line">&#123; </span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">A</span>() &#123; &#125;</span><br><span class="line">    <span class="keyword">virtual</span>~<span class="built_in">A</span>() &#123; cout &lt;&lt; <span class="string">&quot;destructor A&quot;</span> &lt;&lt; endl; &#125; </span><br><span class="line">&#125;; </span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span>:<span class="keyword">public</span> A &#123; </span><br><span class="line">	<span class="keyword">public</span>: </span><br><span class="line">	~<span class="built_in">B</span>() &#123; cout &lt;&lt; <span class="string">&quot;destructor B&quot;</span> &lt;&lt; endl; &#125; </span><br><span class="line">&#125;; </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span></span><br><span class="line"><span class="function"></span>&#123; </span><br><span class="line">	A * pa; </span><br><span class="line">	pa = <span class="keyword">new</span> B; </span><br><span class="line">	<span class="keyword">delete</span> pa; </span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="D-怎么又是Fun和Do"><a href="#D-怎么又是Fun和Do" class="headerlink" title="D:怎么又是Fun和Do :"></a>D:怎么又是Fun和Do :</h2><p>描述<br>程序填空输出指定结果</p>
<p>#include <iostream><br>using namespace std;<br>class A {<br>    private:<br>    int nVal;<br>    public:<br>    void Fun()<br>    { cout &lt;&lt; “A::Fun” &lt;&lt; endl; };<br>    virtual void Do()<br>    { cout &lt;&lt; “A::Do” &lt;&lt; endl; }<br>};<br>class B:public A {<br>    public:<br>    virtual void Do()<br>    { cout &lt;&lt; “B::Do” &lt;&lt; endl;}<br>};<br>class C:public B {<br>    public:<br>    void Do( )<br>    { cout &lt;&lt;”C::Do”&lt;&lt;endl; }<br>    void Fun()<br>    { cout &lt;&lt; “C::Fun” &lt;&lt; endl; }<br>};<br>void Call(<br>&#x2F;&#x2F; 在此处补充你的代码<br>) {<br>    p-&gt;Fun(); p-&gt;Do();<br>}<br>int main() {<br>    Call( new A());<br>    Call( new C());<br>    return 0;<br>}<br>输入<br>无<br>输出<br>A::Fun<br>A::Do<br>A::Fun<br>C::Do<br>样例输入<br>无<br>样例输出<br>A::Fun<br>A::Do<br>A::Fun<br>C::Do</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span> &#123;</span><br><span class="line">	<span class="keyword">private</span>:</span><br><span class="line">	<span class="type">int</span> nVal;</span><br><span class="line">	<span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">Fun</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>&#123; cout &lt;&lt; <span class="string">&quot;A::Fun&quot;</span> &lt;&lt; endl; &#125;;</span><br><span class="line">	<span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">Do</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>&#123; cout &lt;&lt; <span class="string">&quot;A::Do&quot;</span> &lt;&lt; endl; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span>:<span class="keyword">public</span> A &#123;</span><br><span class="line">	<span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">Do</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>&#123; cout &lt;&lt; <span class="string">&quot;B::Do&quot;</span> &lt;&lt; endl;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">C</span>:<span class="keyword">public</span> B &#123;</span><br><span class="line">	<span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">Do</span><span class="params">( )</span></span></span><br><span class="line"><span class="function">	</span>&#123; cout &lt;&lt;<span class="string">&quot;C::Do&quot;</span>&lt;&lt;endl; &#125;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">Fun</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>&#123; cout &lt;&lt; <span class="string">&quot;C::Fun&quot;</span> &lt;&lt; endl; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Call</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">A *p</span></span></span><br><span class="line"><span class="params"><span class="function">)</span> </span>&#123;</span><br><span class="line">	p-&gt;<span class="built_in">Fun</span>(); p-&gt;<span class="built_in">Do</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="built_in">Call</span>( <span class="keyword">new</span> <span class="built_in">A</span>());</span><br><span class="line">	<span class="built_in">Call</span>( <span class="keyword">new</span> <span class="built_in">C</span>());</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="第九章-泛型程序设计与模板-："><a href="#第九章-泛型程序设计与模板-：" class="headerlink" title="第九章 泛型程序设计与模板 ："></a>第九章 泛型程序设计与模板 ：</h1><h2 id="函数模板-："><a href="#函数模板-：" class="headerlink" title="函数模板 ："></a>函数模板 ：</h2><ul>
<li><p>函数模板的作用：提高程序的可重用性和可扩充性</p>
</li>
<li><p>模板分为函数模板和类模板。函数模板是用来生成函数的，类模板是用来生成类的。函数模板的写法如下：<br>  template&lt;class 类型参数1，class 类型参数2&gt;<br>  返回值类型 模板名(形参表)<br>  {<br>  函数体<br>  }<br>  其中形参表可以直接使用template中的类型参数。模板名就是函数名。其中class关键字也可以用typename关键字替代</p>
</li>
<li><p>编译器由模板生成函数时，会用具体的类型名对模板中所有的类型参数进行替换，其他部分则原封不动保留。编译器在编译到调用函数模板的语句时，会根据实参的类型判断该如何替换模板中的类型参数。例如：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Swap</span><span class="params">(T &amp; x,T &amp; y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    T temp = x;</span><br><span class="line">    x = y;</span><br><span class="line">    y = temp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> n = <span class="number">1</span>,m = <span class="number">2</span>;</span><br><span class="line">    <span class="built_in">Swap</span>(n,m);          <span class="comment">//编译器自动生成void Swap(int &amp;,int &amp;)函数</span></span><br><span class="line">    <span class="type">double</span> f = <span class="number">1.2</span>,g = <span class="number">2.3</span>;</span><br><span class="line">    <span class="built_in">Swap</span>(f,g);           <span class="comment">//编译器自动生成void Swap(double &amp;,double &amp;)函数</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>编译器由模板自动生成函数的过程叫模板的实例化，由模板实例化而得到的函数成为模板函数</p>
</li>
<li><p>模板调用语句可以指明要把参数类型实例化为哪种类型，可以用：<br>  模板名&lt;实际参数类型1，实际参数类型2…&gt;。例如：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;</span></span><br><span class="line"><span class="function">T <span class="title">Inc</span><span class="params">(<span class="type">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span> + n;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="built_in">Inc</span>&lt;<span class="type">double</span>&gt;(<span class="number">4</span>) / <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">Inc&lt;dounle&gt;(4)指明了实例化的函数原型为：double Inc(double)</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>在函数模板中，类型参数不但可以用来定义参数的类型，还可以用于定于局部变量和函数模板的返回值</p>
</li>
<li><p>函数模板可以重载，只要他们的形参表不同即可。函数调用语句匹配函数模板遵循以下先后顺序：</p>
<ol>
<li>先找参数完全匹配的普通函数(非由模板实例化得到的函数)</li>
<li>再找参数完全匹配的模板函数</li>
<li>再找实参经过自动类型转换后能够匹配的普通函数</li>
<li>若以上都找不到，则报错<br>例如：<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="function">T <span class="title">Max</span><span class="params">(T a,T b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Template Max 1&quot;</span> &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">class</span> T,<span class="keyword">class</span> T2&gt;</span></span><br><span class="line"><span class="function">T <span class="title">Max</span><span class="params">(T a,T2 b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Template Max 2&quot;</span> &lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">Max</span><span class="params">(<span class="type">double</span> a,<span class="type">double</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Function Max&quot;</span> &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> i = <span class="number">4</span>,j = <span class="number">5</span>;</span><br><span class="line">    <span class="built_in">Max</span>(<span class="number">1.2</span>,<span class="number">3.4</span>);       <span class="comment">//调用Max函数</span></span><br><span class="line">    <span class="built_in">Max</span>(i,j);           <span class="comment">//调用第一个Max模板生成的函数</span></span><br><span class="line">    <span class="built_in">Max</span>(<span class="number">1.2</span>,<span class="number">3</span>);         <span class="comment">//调用第二个Max模板生成的函数</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">程序的输出结果是：</span></span><br><span class="line"><span class="comment">Function Max</span></span><br><span class="line"><span class="comment">Template Max 1</span></span><br><span class="line"><span class="comment">Template Max 2</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ul>
<h2 id="类模板-："><a href="#类模板-：" class="headerlink" title="类模板 ："></a>类模板 ：</h2><ul>
<li><p>类模板写法如下：<br>  template&lt;类型参数表&gt;<br>  class 类模板名<br>  {<br>  成员函数和成员变量<br>  };</p>
</li>
<li><p>类型参数表的写法如下：<br>  class 类型参数1,class 类型参数2,…</p>
</li>
<li><p>类模板中成员函数放到类模板定义外面写法如下：<br>  template&lt;类型参数表&gt;<br>  返回值类型 类模板名&lt;类型参数名列表&gt; :: 成员函数名(参数表)<br>  {<br>  …<br>  }</p>
</li>
<li><p>编译器由类模板生成类的过程叫类模板的实例化。由类模板实例化得到的类叫模板类。例如：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T1</span>,<span class="keyword">class</span> <span class="title class_">T2</span>&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Pair</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        T1 key;</span><br><span class="line">        T2 value;</span><br><span class="line">        <span class="built_in">Pair</span>(T1 k,T2 v) : <span class="built_in">key</span>(k),<span class="built_in">value</span>(v) &#123;&#125;</span><br><span class="line">        <span class="type">bool</span> <span class="keyword">operator</span> &lt; (<span class="type">const</span> Pair&lt;T1,T2&gt; &amp; p) <span class="type">const</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">class</span> T1,<span class="keyword">class</span> T2&gt;</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">Pair</span><span class="params">(T1,T2)</span> :: <span class="keyword">operator</span> &lt; <span class="params">(<span class="type">const</span> Pair&lt;T1,T2&gt; &amp; p)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"><span class="comment">//Pair 的成员函数operator &lt;</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> key &lt; p.key;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Pair&lt;string,<span class="type">int</span>&gt;<span class="built_in">student</span>(<span class="string">&quot;Tom&quot;</span>,<span class="number">19</span>);       <span class="comment">//实例化一个类Pair&lt;string,int&gt;</span></span><br><span class="line">    cout &lt;&lt; student.key &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; student.value;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>类模板中的成员函数还可以是一个函数模板。成员函数模板只有在被调用时才会被实例化。例如：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T2</span>&gt;</span><br><span class="line">        <span class="function"><span class="type">void</span> <span class="title">Func</span><span class="params">(T2 t)</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            cout &lt;&lt; t;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    A&lt;<span class="type">int</span>&gt;a;</span><br><span class="line">    a.<span class="built_in">Func</span>(<span class="string">&#x27;k&#x27;</span>);     <span class="comment">//成员函数模板Func被实例化</span></span><br><span class="line">    a.<span class="built_in">Func</span>(<span class="string">&quot;Hello&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="类模板中的非类型参数-："><a href="#类模板中的非类型参数-：" class="headerlink" title="类模板中的非类型参数 ："></a>类模板中的非类型参数 ：</h2><ul>
<li>类模板的“类型参数表”中可以出现非类型参数，例如：<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>,<span class="type">int</span> size&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CArray</span></span><br><span class="line">&#123;</span><br><span class="line">    T array[size];</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="function"><span class="type">void</span> <span class="title">Print</span><span class="params">()</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; size;i++)</span><br><span class="line">            &#123;</span><br><span class="line">                cout &lt;&lt; array[i] &lt;&lt; endl;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//注意：CArray&lt;int,40&gt;和CArray&lt;int,50&gt;完全是两个类，这两个类的对象之间不能赋值</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="类模板与继承-："><a href="#类模板与继承-：" class="headerlink" title="类模板与继承 ："></a>类模板与继承 ：</h2><ul>
<li>类模板和类模板之间、类模板和类之间可以互相继承</li>
</ul>
<h3 id="类模板从类模板派生-："><a href="#类模板从类模板派生-：" class="headerlink" title="类模板从类模板派生 ："></a>类模板从类模板派生 ：</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T1</span>,<span class="keyword">class</span> <span class="title class_">T2</span>&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span></span><br><span class="line">&#123;</span><br><span class="line">    T1 v1;T2 v2;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T1</span>,<span class="keyword">class</span> <span class="title class_">T2</span>&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span> : <span class="keyword">public</span> A&lt;T2,T1&gt;</span><br><span class="line">&#123;</span><br><span class="line">    T1 v3,T2 v4;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">C</span> : <span class="keyword">public</span> B&lt;T,T&gt;</span><br><span class="line">&#123;</span><br><span class="line">    T v5;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    B&lt;<span class="type">int</span>,<span class="type">double</span>&gt; obj;</span><br><span class="line">    C&lt;<span class="type">int</span>&gt; obj2;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">编译到底18行，编译器用int替换类模板B中的T1，用double替换T2，生成B&lt;int,double&gt;类</span></span><br><span class="line"><span class="comment">B&lt;int,double&gt;的基类是A&lt;double，int&gt;。于是编译器就要用double替换A中的T1，用int替换T2，生成A&lt;double,int&gt;</span></span><br><span class="line"><span class="comment">编译到第19行，编译器生成类C&lt;int&gt;，还有C&lt;int&gt;的直接基类B&lt;int,int&gt;，以及B&lt;int,int&gt;的基类A&lt;int,int&gt;</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<h3 id="类模板从模板类派生-："><a href="#类模板从模板类派生-：" class="headerlink" title="类模板从模板类派生 ："></a>类模板从模板类派生 ：</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T1</span>,<span class="keyword">class</span> <span class="title class_">T2</span>&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span></span><br><span class="line">&#123;</span><br><span class="line">    T1 v1;</span><br><span class="line">    T2 v2;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span> : <span class="keyword">public</span> A&lt;<span class="type">int</span> <span class="type">double</span>&gt;</span><br><span class="line">&#123;</span><br><span class="line">    T v;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    B&lt;<span class="type">char</span>&gt; obj1;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">A&lt;int,double&gt;是一个具体的类的名字，而且它是一个类模板，因此说类模板B是从模板类派生而来的</span></span><br><span class="line"><span class="comment">编译器编译到B&lt;char&gt; obj1;时会自动生成两个模板类：A&lt;int,double&gt;和B&lt;char&gt;</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<h3 id="类模板从普通类派生-："><a href="#类模板从普通类派生-：" class="headerlink" title="类模板从普通类派生 ："></a>类模板从普通类派生 ：</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">A</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> v1;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span> : <span class="keyword">public</span> A</span><br><span class="line">&#123;</span><br><span class="line">    T v;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    B&lt;<span class="type">char</span>&gt; obj1;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="普通类从模板类派生-："><a href="#普通类从模板类派生-：" class="headerlink" title="普通类从模板类派生 ："></a>普通类从模板类派生 ：</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span></span><br><span class="line">&#123;</span><br><span class="line">    T v1;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span></span><br></pre></td></tr></table></figure>

<h2 id="类模板中的静态成员-："><a href="#类模板中的静态成员-：" class="headerlink" title="类模板中的静态成员 ："></a>类模板中的静态成员 ：</h2><ul>
<li>类模板中可以定义静态成员，从该类模板实例化得到的所有类都包含同样的静态成员。但是不同实例化相当于不同类，不会共享静态成员，例如：<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        <span class="type">static</span> <span class="type">int</span> count;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="built_in">A</span>()</span><br><span class="line">        &#123;</span><br><span class="line">            count ++;</span><br><span class="line">        &#125;</span><br><span class="line">        ~<span class="built_in">A</span>()</span><br><span class="line">        &#123;</span><br><span class="line">            count --;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="type">static</span> <span class="type">void</span> <span class="title">PrintCount</span><span class="params">()</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            cout &lt;&lt; count &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">template</span>&lt;&gt;<span class="type">int</span> A&lt;<span class="type">int</span>&gt; :: count = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">template</span>&lt;&gt;<span class="type">int</span> A&lt;<span class="type">double</span>&gt; :: count = <span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    A&lt;<span class="type">int</span>&gt; ia;</span><br><span class="line">    A&lt;<span class="type">double</span>&gt; da;</span><br><span class="line">    ia.<span class="built_in">PrintCount</span>();</span><br><span class="line">    da.<span class="built_in">PrintCount</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">程序输出的结果是：</span></span><br><span class="line"><span class="comment">1</span></span><br><span class="line"><span class="comment">1</span></span><br><span class="line"><span class="comment">A&lt;int&gt;的对象ia和A&lt;double&gt;的对象da不会共享一份count</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h1 id="第九章作业-："><a href="#第九章作业-：" class="headerlink" title="第九章作业 ："></a>第九章作业 ：</h1><h2 id="A-简单的SumArray-："><a href="#A-简单的SumArray-：" class="headerlink" title="A:简单的SumArray ："></a>A:简单的SumArray ：</h2><p>描述<br>填写模板 PrintArray,使得程序输出结果是： TomJackMaryJohn 10 不得编写SumArray函数<br>#include <iostream><br>#include <string><br>using namespace std;<br>template <class T><br>T SumArray(<br>&#x2F;&#x2F; 在此处补充你的代码<br>}<br>int main() {<br>    string array[4] &#x3D; { “Tom”,”Jack”,”Mary”,”John”};<br>    cout &lt;&lt; SumArray(array,array+4) &lt;&lt; endl;<br>    int a[4] &#x3D; { 1, 2, 3, 4};  &#x2F;&#x2F;提示：1+2+3+4 &#x3D; 10<br>    cout &lt;&lt; SumArray(a,a+4) &lt;&lt; endl;<br>    return 0;<br>}<br>输入<br>无<br>输出<br>TomJackMaryJohn<br>10</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="function">T <span class="title">SumArray</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">T *begin, T *end)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    T sum = <span class="built_in">T</span> ();</span><br><span class="line">    <span class="keyword">for</span> (T *str = begin; str != end; ++str)</span><br><span class="line">    &#123;</span><br><span class="line">        sum += *str;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	string array[<span class="number">4</span>] = &#123; <span class="string">&quot;Tom&quot;</span>,<span class="string">&quot;Jack&quot;</span>,<span class="string">&quot;Mary&quot;</span>,<span class="string">&quot;John&quot;</span>&#125;;</span><br><span class="line">	cout &lt;&lt; <span class="built_in">SumArray</span>(array,array<span class="number">+4</span>) &lt;&lt; endl;</span><br><span class="line">	<span class="type">int</span> a[<span class="number">4</span>] = &#123; <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>&#125;;  <span class="comment">//提示：1+2+3+4 = 10</span></span><br><span class="line">	cout &lt;&lt; <span class="built_in">SumArray</span>(a,a<span class="number">+4</span>) &lt;&lt; endl;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="B-简单的foreach"><a href="#B-简单的foreach" class="headerlink" title="B:简单的foreach :"></a>B:简单的foreach :</h2><p>描述<br>编写MyForeach模板，使程序按要求输出 不得编写 MyForeach函数<br>#include <iostream><br>#include <string><br>using namespace std;<br>&#x2F;&#x2F; 在此处补充你的代码<br>void Print(string s)<br>{<br>    cout &lt;&lt; s;<br>}<br>void Inc(int &amp; n)<br>{<br>    ++ n;<br>}<br>string array[100];<br>int a[100];<br>int main() {<br>    int m,n;<br>    while(cin &gt;&gt; m &gt;&gt; n) {<br>        for(int i &#x3D; 0;i &lt; m; ++i)<br>            cin &gt;&gt; array[i];<br>        for(int j &#x3D; 0; j &lt; n; ++j)<br>            cin &gt;&gt; a[j];<br>        MyForeach(array,array+m,Print);		<br>        cout &lt;&lt; endl;<br>        MyForeach(a,a+n,Inc);		<br>        for(int i &#x3D; 0;i &lt; n; ++i)<br>            cout &lt;&lt; a[i] &lt;&lt; “,”;<br>        cout &lt;&lt; endl;<br>    }<br>    return 0;<br>}<br>输入<br>多组数据<br>每组数据第一行是两个整数 m 和 n ,都不超过 50<br>第二行是m个不带空格的字符串<br>第三行是 n个整数<br>输出<br>对每组数据<br>第一行输出所有输入字符串连在一起的结果<br>第二行输出输入中的每个整数加1的结果<br>样例输入<br>3 4<br>Tom Mike Jack<br>1 2 3 4<br>1 2<br>Peking<br>100 200<br>样例输出<br>TomMikeJack<br>2,3,4,5,<br>Peking<br>101,201,</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T1</span>,<span class="keyword">class</span> <span class="title class_">T2</span>&gt;</span><br><span class="line"><span class="function">T1 <span class="title">MyForeach</span><span class="params">(T1 *a,T1 *b,T2 c)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    T1 sum = <span class="built_in">T1</span>();</span><br><span class="line">    <span class="keyword">for</span>(T1 *current = a; current!= b; ++ current)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">c</span>(*current);</span><br><span class="line">        sum += *current;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Print</span><span class="params">(string s)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	cout &lt;&lt; s;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Inc</span><span class="params">(<span class="type">int</span> &amp; n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	++ n;</span><br><span class="line">&#125;</span><br><span class="line">string array[<span class="number">100</span>];</span><br><span class="line"><span class="type">int</span> a[<span class="number">100</span>];</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="type">int</span> m,n;</span><br><span class="line">	<span class="keyword">while</span>(cin &gt;&gt; m &gt;&gt; n) &#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; m; ++i)</span><br><span class="line">			cin &gt;&gt; array[i];</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j &lt; n; ++j)</span><br><span class="line">			cin &gt;&gt; a[j];</span><br><span class="line">		<span class="built_in">MyForeach</span>(array,array+m,Print);		 </span><br><span class="line">		cout &lt;&lt; endl;</span><br><span class="line">		<span class="built_in">MyForeach</span>(a,a+n,Inc);		 </span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; n; ++i)</span><br><span class="line">			cout &lt;&lt; a[i] &lt;&lt; <span class="string">&quot;,&quot;</span>;</span><br><span class="line">		cout &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="C-简单的Filter"><a href="#C-简单的Filter" class="headerlink" title="C:简单的Filter :"></a>C:简单的Filter :</h2><p>描述<br>编写Filter模板，使得程序产生指定输出 不得编写 Filter函数<br>#include <iostream><br>#include <string><br>using namespace std;<br>&#x2F;&#x2F; 在此处补充你的代码<br>bool LargerThan2(int n)<br>{<br>    return n &gt; 2;<br>}<br>bool LongerThan3(string s)<br>{<br>    return s.length() &gt; 3;<br>}<br>string as1[5] &#x3D; {“Tom”,”Mike”,”Jack”,”Ted”,”Lucy”};<br>string as2[5];<br>int  a1[5] &#x3D; { 1,2,3,4,5};<br>int a2[5];<br>int main() {<br>    string * p &#x3D; Filter(as1,as1+5,as2,LongerThan3);<br>    for(int i &#x3D; 0;i &lt; p - as2; ++i)<br>        cout &lt;&lt; as2[i];<br>    cout &lt;&lt; endl;<br>    int * p2 &#x3D; Filter(a1,a1+5,a2,LargerThan2);<br>    for(int i &#x3D; 0;i &lt; p2-a2; ++i)<br>        cout &lt;&lt; a2[i] &lt;&lt; “,”;<br>    return 0;<br>}<br>输入<br>无<br>输出<br>MikeJackLucy<br>3,4,5,<br>样例输入<br>无<br>样例输出<br>MikeJackLucy<br>3,4,5,</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">class</span> T1,<span class="keyword">class</span> T2&gt;</span></span><br><span class="line"><span class="function">T1* <span class="title">Filter</span><span class="params">(T1 *x,T1 *y,T1 *z,T2 k)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(T1 *current = x; current != y ; ++current)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">k</span>(*current))</span><br><span class="line">        &#123;</span><br><span class="line">            *z = *current;</span><br><span class="line">            ++z;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> z;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">LargerThan2</span><span class="params">(<span class="type">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">return</span> n &gt; <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">LongerThan3</span><span class="params">(string s)</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">return</span> s.<span class="built_in">length</span>() &gt; <span class="number">3</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">string as1[<span class="number">5</span>] = &#123;<span class="string">&quot;Tom&quot;</span>,<span class="string">&quot;Mike&quot;</span>,<span class="string">&quot;Jack&quot;</span>,<span class="string">&quot;Ted&quot;</span>,<span class="string">&quot;Lucy&quot;</span>&#125;;</span><br><span class="line">string as2[<span class="number">5</span>];</span><br><span class="line"><span class="type">int</span>  a1[<span class="number">5</span>] = &#123; <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;;</span><br><span class="line"><span class="type">int</span> a2[<span class="number">5</span>];</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	string * p = <span class="built_in">Filter</span>(as1,as1<span class="number">+5</span>,as2,LongerThan3);</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; p - as2; ++i)</span><br><span class="line">		cout &lt;&lt; as2[i];</span><br><span class="line">	cout &lt;&lt; endl; </span><br><span class="line">	<span class="type">int</span> * p2 = <span class="built_in">Filter</span>(a1,a1<span class="number">+5</span>,a2,LargerThan2);</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; p2-a2; ++i)</span><br><span class="line">		cout &lt;&lt; a2[i] &lt;&lt; <span class="string">&quot;,&quot;</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="E-山寨版istream-iterator"><a href="#E-山寨版istream-iterator" class="headerlink" title="E:山寨版istream_iterator :"></a>E:山寨版istream_iterator :</h2><p>描述<br>模仿C++标准模板库istream_iterator用法，实现CMyistream_iterator使得程序按要求输出<br>#include <iostream><br>#include <string><br>using namespace std;<br>template <class T><br>class CMyistream_iterator<br>{<br>&#x2F;&#x2F; 在此处补充你的代码<br>};<br>int main()<br>{<br>    int t;<br>    cin &gt;&gt; t;<br>    while( t – ) {<br>         CMyistream_iterator<int> inputInt(cin);<br>         int n1,n2,n3;<br>         n1 &#x3D; * inputInt; &#x2F;&#x2F;读入 n1<br>         int tmp &#x3D; * inputInt;<br>         cout &lt;&lt; tmp &lt;&lt; endl;<br>         inputInt ++;<br>         n2 &#x3D; * inputInt; &#x2F;&#x2F;读入 n2<br>         inputInt ++;<br>         n3 &#x3D; * inputInt; &#x2F;&#x2F;读入 n3<br>         cout &lt;&lt; n1 &lt;&lt; “ “ &lt;&lt; n2&lt;&lt; “ “ &lt;&lt; n3 &lt;&lt; “ “;<br>         CMyistream_iterator<string> inputStr(cin);<br>         string s1,s2;<br>         s1 &#x3D; * inputStr;<br>         inputStr ++;<br>         s2 &#x3D; * inputStr;<br>         cout &lt;&lt; s1 &lt;&lt; “ “ &lt;&lt; s2 &lt;&lt; endl;<br>    }<br>     return 0;<br>}<br>输入<br>第一行是整数t，表示有t组数据<br>每组数据一行，三个整数加两个字符串。字符串是不含空格的<br>输出<br>对每组数据，输出二行<br>在第一行输出第一个数<br>第二行原样输出输入的内容<br>样例输入<br>2<br>79 90 20 hello me<br>12 34 19 take up<br>样例输出<br>79<br>79 90 20 hello me<br>12<br>12 34 19 take up<br>提示<br>C++标准模板库 istream_iterator模版使用说明：<br>其构造函数执行过程中就会要求输入，然后每次执行++，则读取输入流中的下一个项目，执行 * 则返回上次从输入流中读取的项目。例如，下面程序运行时，就会等待用户输入数据，输入数据后程序才会结束：<br>#include<br>#include<br>using namespace std;<br>int main() {<br>istream_iterator inputInt(cin);<br>return 0;<br>}<br>下面程序运行时，如果输入 12 34 程序输出结果是： 12,12<br>#include<br>#include<br>using namespace std;<br>int main()<br>{<br>istream_iterator inputInt(cin);<br>cout &lt;&lt; * inputInt &lt;&lt; “,” &lt;&lt; * inputInt &lt;&lt; endl;<br>return 0;<br>}<br>下面程序运行时，如果输入 12 34 56程序输出结果是： 12,56<br>#include<br>#include<br>using namespace std;<br>int main()<br>{<br>istream_iterator inputInt(cin);<br>cout &lt;&lt; * inputInt &lt;&lt; “,” ;<br>inputInt ++;<br>inputInt ++;<br>cout &lt;&lt; * inputInt;<br>return 0;<br>}</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CMyistream_iterator</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    istream&amp; is;</span><br><span class="line">    T current;</span><br><span class="line">    <span class="built_in">CMyistream_iterator</span>&lt;T&gt;(istream&amp; in):<span class="built_in">is</span>(in)</span><br><span class="line">    &#123;</span><br><span class="line">        is &gt;&gt; current;</span><br><span class="line">    &#125;</span><br><span class="line">    T <span class="keyword">operator</span> *()</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> current;</span><br><span class="line">    &#125;</span><br><span class="line">    CMyistream_iterator&lt;T&gt; <span class="keyword">operator</span> ++ (<span class="type">int</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        is &gt;&gt; current;</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span>  </span></span><br><span class="line"><span class="function"></span>&#123; </span><br><span class="line">	<span class="type">int</span> t;</span><br><span class="line">	cin &gt;&gt; t;</span><br><span class="line">	<span class="keyword">while</span>( t -- ) &#123;</span><br><span class="line">		 <span class="function">CMyistream_iterator&lt;<span class="type">int</span>&gt; <span class="title">inputInt</span><span class="params">(cin)</span></span>;</span><br><span class="line">		 <span class="type">int</span> n1,n2,n3;</span><br><span class="line">		 n1 = * inputInt; <span class="comment">//读入 n1</span></span><br><span class="line">		 <span class="type">int</span> tmp = * inputInt;</span><br><span class="line">		 cout &lt;&lt; tmp &lt;&lt; endl;</span><br><span class="line">		 inputInt ++;   </span><br><span class="line">		 n2 = * inputInt; <span class="comment">//读入 n2</span></span><br><span class="line">		 inputInt ++;</span><br><span class="line">		 n3 = * inputInt; <span class="comment">//读入 n3</span></span><br><span class="line">		 cout &lt;&lt; n1 &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; n2&lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; n3 &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">		 <span class="function">CMyistream_iterator&lt;string&gt; <span class="title">inputStr</span><span class="params">(cin)</span></span>;</span><br><span class="line">		 string s1,s2;</span><br><span class="line">		 s1 = * inputStr;</span><br><span class="line">		 inputStr ++;</span><br><span class="line">		 s2 = * inputStr;</span><br><span class="line">		 cout &lt;&lt; s1 &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; s2 &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">	 <span class="keyword">return</span> <span class="number">0</span>;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="F-这个模板并不难"><a href="#F-这个模板并不难" class="headerlink" title="F:这个模板并不难 :"></a>F:这个模板并不难 :</h2><p>描述<br>程序填空，输出指定结果<br>#include <iostream><br>#include <string><br>#include <cstring><br>using namespace std;<br>template <class T><br>class myclass {<br>&#x2F;&#x2F; 在此处补充你的代码<br>~myclass( ) {<br>        delete [] p;<br>    }<br>    void Show()<br>    {<br>        for( int i &#x3D; 0;i &lt; size;i ++ ) {<br>            cout &lt;&lt; p[i] &lt;&lt; “,”;<br>        }<br>        cout &lt;&lt; endl;<br>    }<br>};<br>int a[100];<br>int main() {<br>    char line[100];<br>    while( cin &gt;&gt; line ) {<br>        myclass<char> obj(line,strlen(line));;<br>        obj.Show();<br>        int n;<br>        cin &gt;&gt; n;<br>        for(int i &#x3D; 0;i &lt; n; ++i)<br>            cin &gt;&gt; a[i];<br>        myclass<int> obj2(a,n);<br>        obj2.Show();<br>    }<br>    return 0;<br>}<br>输入<br>多组数据。每组第一行是一个不含空格的字符串<br>第二行是整数n<br>第三行是n个整数<br>输出<br>对每组数据，先依次输出输入字符串的每个字母，并且在每个字母后面加逗号<br>然后依次再输出输入的n个整数 ，在每个整数后面加逗号<br>样例输入<br>Tom<br>3<br>3 4 5<br>Jack<br>4<br>1 2 3 4<br>样例输出<br>T,o,m,<br>3,4,5,<br>J,a,c,k,<br>1,2,3,4,</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;  </span><br><span class="line"><span class="keyword">class</span> <span class="title class_">myclass</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    T *p;</span><br><span class="line">    <span class="type">int</span> size;</span><br><span class="line">    <span class="built_in">myclass</span>(T *x,<span class="type">int</span> b)  :<span class="built_in">size</span>(b) </span><br><span class="line">    &#123;</span><br><span class="line">        p = <span class="keyword">new</span> T[b];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; size ; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            p[i] = x[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; </span><br><span class="line"></span><br><span class="line">~<span class="built_in">myclass</span>( ) &#123;</span><br><span class="line">		<span class="keyword">delete</span> [] p;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">Show</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">for</span>( <span class="type">int</span> i = <span class="number">0</span>;i &lt; size;i ++ ) &#123;</span><br><span class="line">			cout &lt;&lt; p[i] &lt;&lt; <span class="string">&quot;,&quot;</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		cout &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="type">int</span> a[<span class="number">100</span>];</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="type">char</span> line[<span class="number">100</span>];</span><br><span class="line">	<span class="keyword">while</span>( cin &gt;&gt; line ) &#123;</span><br><span class="line">		<span class="function">myclass&lt;<span class="type">char</span>&gt; <span class="title">obj</span><span class="params">(line,strlen(line))</span></span>;;</span><br><span class="line">		obj.<span class="built_in">Show</span>();</span><br><span class="line">		<span class="type">int</span> n;</span><br><span class="line">		cin &gt;&gt; n;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; n; ++i)</span><br><span class="line">			cin &gt;&gt; a[i];</span><br><span class="line">		<span class="function">myclass&lt;<span class="type">int</span>&gt; <span class="title">obj2</span><span class="params">(a,n)</span></span>;</span><br><span class="line">		obj<span class="number">2.</span><span class="built_in">Show</span>();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="G-排序，又见排序"><a href="#G-排序，又见排序" class="headerlink" title="G:排序，又见排序! :"></a>G:排序，又见排序! :</h2><p>描述<br>自己编写一个能对任何类型的数组进行排序的mysort函数模版。只能写一个mysort模板，不能写mysort函数！<br>#include <iostream><br>using namespace std;</p>
<p>bool Greater2(int n1,int n2)<br>{<br>    return n1 &gt; n2;<br>}<br>bool Greater1(int n1,int n2)<br>{<br>    return n1 &lt; n2;<br>}<br>bool Greater3(double d1,double d2)<br>{<br>    return d1 &lt; d2;<br>}<br>template &lt;class T1,class T2&gt;<br>void mysort(<br>&#x2F;&#x2F; 在此处补充你的代码<br>#define NUM 5<br>int main()<br>{<br>    int an[NUM] &#x3D; { 8,123,11,10,4 };<br>    mysort(an,an+NUM,Greater1); &#x2F;&#x2F;从小到大排序<br>    for( int i &#x3D; 0;i &lt; NUM; i ++ )<br>       cout &lt;&lt; an[i] &lt;&lt; “,”;<br>    mysort(an,an+NUM,Greater2); &#x2F;&#x2F;从大到小排序<br>    cout &lt;&lt; endl;<br>    for( int i &#x3D; 0;i &lt; NUM; i ++ )<br>        cout &lt;&lt; an[i] &lt;&lt; “,”;<br>    cout &lt;&lt; endl;<br>    double d[6] &#x3D; { 1.4,1.8,3.2,1.2,3.1,2.1};<br>    mysort(d+1,d+5,Greater3); &#x2F;&#x2F;将数组从下标1到下标4从小到大排序<br>    for( int i &#x3D; 0;i &lt; 6; i ++ )<br>         cout &lt;&lt; d[i] &lt;&lt; “,”;<br>    return 0;<br>}<br>输入<br>无<br>输出<br>4,8,10,11,123,<br>123,11,10,8,4,<br>1.4,1.2,1.8,3.1,3.2,2.1,<br>样例输入<br>无<br>样例输出<br>4,8,10,11,123,<br>123,11,10,8,4,<br>1.4,1.2,1.8,3.1,3.2,2.1,</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">Greater2</span><span class="params">(<span class="type">int</span> n1,<span class="type">int</span> n2)</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">return</span> n1 &gt; n2;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">Greater1</span><span class="params">(<span class="type">int</span> n1,<span class="type">int</span> n2)</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">return</span> n1 &lt; n2;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">Greater3</span><span class="params">(<span class="type">double</span> d1,<span class="type">double</span> d2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">return</span> d1 &lt; d2;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T1</span>,<span class="keyword">class</span> <span class="title class_">T2</span>&gt;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">mysort</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">T1 *a,T1 *b,T2 c)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(T1*current = a; current != b ; current++ )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(T1 *next = current<span class="number">+1</span>; next != b; next++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(!<span class="built_in">c</span>(*current,*next))</span><br><span class="line">            &#123;</span><br><span class="line">                T1 temp = *current;</span><br><span class="line">                *current = *next;</span><br><span class="line">                *next = temp;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> NUM 5</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> an[NUM] = &#123; <span class="number">8</span>,<span class="number">123</span>,<span class="number">11</span>,<span class="number">10</span>,<span class="number">4</span> &#125;;</span><br><span class="line">    <span class="built_in">mysort</span>(an,an+NUM,Greater1); <span class="comment">//从小到大排序 </span></span><br><span class="line">    <span class="keyword">for</span>( <span class="type">int</span> i = <span class="number">0</span>;i &lt; NUM; i ++ )</span><br><span class="line">       cout &lt;&lt; an[i] &lt;&lt; <span class="string">&quot;,&quot;</span>;</span><br><span class="line">    <span class="built_in">mysort</span>(an,an+NUM,Greater2); <span class="comment">//从大到小排序 </span></span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">for</span>( <span class="type">int</span> i = <span class="number">0</span>;i &lt; NUM; i ++ )</span><br><span class="line">        cout &lt;&lt; an[i] &lt;&lt; <span class="string">&quot;,&quot;</span>; </span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">    <span class="type">double</span> d[<span class="number">6</span>] = &#123; <span class="number">1.4</span>,<span class="number">1.8</span>,<span class="number">3.2</span>,<span class="number">1.2</span>,<span class="number">3.1</span>,<span class="number">2.1</span>&#125;;</span><br><span class="line">    <span class="built_in">mysort</span>(d<span class="number">+1</span>,d<span class="number">+5</span>,Greater3); <span class="comment">//将数组从下标1到下标4从小到大排序 </span></span><br><span class="line">    <span class="keyword">for</span>( <span class="type">int</span> i = <span class="number">0</span>;i &lt; <span class="number">6</span>; i ++ )</span><br><span class="line">         cout &lt;&lt; d[i] &lt;&lt; <span class="string">&quot;,&quot;</span>; </span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="第十章-标准模板库STL-："><a href="#第十章-标准模板库STL-：" class="headerlink" title="第十章 标准模板库STL ："></a>第十章 标准模板库STL ：</h1><h2 id="STL中的基本概念-："><a href="#STL中的基本概念-：" class="headerlink" title="STL中的基本概念 ："></a>STL中的基本概念 ：</h2><ul>
<li><p>容器：用于存放数据的类模板</p>
</li>
<li><p>迭代器：用于存取容器中存放的元素的工具。迭代器是一个变量，作用类似于指针。访问容器内的元素需要通过迭代器，迭代器相当于一个中介。</p>
</li>
<li><p>算法：用来操作容器中元素的函数模板。例如int array[1000]是一个容器，而int*可以作为迭代器。使用sort算法可以对这个容器进行排序：sort(array,array + 100);</p>
</li>
</ul>
<h3 id="容器模板-："><a href="#容器模板-：" class="headerlink" title="容器模板 ："></a>容器模板 ：</h3><ul>
<li><p>容器是存放数据的类模板。被放入容器的对象所属的类最好重载“&#x3D;&#x3D;”和“&lt;”运算符</p>
</li>
<li><p>容器分为两大类：</p>
<ol>
<li>顺序容器：位置同值无关，不排序的<ol>
<li>可变长动态数组vector(内存连续存放)</li>
<li>双端队列deque(内存连续存放)</li>
<li>双向链表list(内存不连续存放)</li>
</ol>
</li>
<li>关联容器：元素是排序的，默认情况下从小到大<ol>
<li>set</li>
<li>multiset</li>
<li>map</li>
<li>multimap</li>
</ol>
</li>
</ol>
</li>
<li><p>容器适配器：</p>
<ol>
<li>栈stack</li>
<li>队列queue</li>
<li>优先级队列priority_queue</li>
</ol>
</li>
<li><p>容器都是类模板，实例化后成为容器类。vector<int>是一个容器类的名字，vector<int> a就定义了一个容器对象</p>
</li>
<li><p>任何两个容器对象，只要类型相同，就可以用&lt;,&gt;,&lt;&#x3D;,&gt;&#x3D;,&#x3D;&#x3D;,!&#x3D;进行词典式的比较运算，返回一个布尔值</p>
</li>
<li><p>所有的容器都有以下两个成员函数：</p>
<ol>
<li>int size()：返回容器对象中元素的个数</li>
<li>bool empty()：判断容器对象是否为空</li>
</ol>
</li>
<li><p>顺序容器和关联容器还有以下的成员函数：</p>
<ol>
<li>begin()：返回指向容器中第一个元素的迭代器</li>
<li>end()：返回指向容器中最后一个元素后面的位置的迭代器</li>
<li>rbegin()：返回指向容器中最后一个元素的反向迭代器</li>
<li>rend()：返回第一个元素前面的位置的反向迭代器</li>
<li>erase()：从容器中删除一个或几个元素</li>
<li>clear()：从容器中删除所有元素</li>
</ol>
</li>
<li><p>顺序容器还有一下常用成员函数： </p>
<ol>
<li>front()：返回容器中第一个元素的引用</li>
<li>back()：返回容器中最后一个元素的引用</li>
<li>push_back()：在容器末尾增加新元素</li>
<li>pop_back()：删除容器末尾的元素</li>
<li>insert(…)：插入一个或多个元素</li>
</ol>
</li>
</ul>
<h3 id="迭代器-："><a href="#迭代器-：" class="headerlink" title="迭代器 ："></a>迭代器 ：</h3><ul>
<li><p>要访问顺序容器和关联容器中的元素，需要通过“迭代器”进行，迭代器与指针类似。</p>
</li>
<li><p>迭代器按照定义分为以下四种：</p>
<ol>
<li>正向迭代器：容器类名::iterator 迭代器名;</li>
<li>常量正向迭代器：容器类名::const_iterator 迭代器名;</li>
<li>反向迭代器：容器类名::reverse_iterator 迭代器名;</li>
<li>常量反向迭代器：容器类名::const_reverse_iterator 迭代器名;</li>
</ol>
</li>
<li><p>通过迭代器可以读取它指向的元素，“*迭代器名”就代表迭代器指向的元素。迭代器可以进行++，–操作</p>
</li>
<li><p>反向迭代器和正向迭代器的区别：对正向迭代器进行++操作时，得带起会指向容器的后一个元素；而对反向迭代器进行++操作时，迭代器会指向容器中的前一个元素。例如：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; v;                  <span class="comment">//v是int类型的可变长数组，开始时没有元素</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> n = <span class="number">0</span>;n &lt; <span class="number">5</span>;++n)</span><br><span class="line">    &#123;</span><br><span class="line">        v.<span class="built_in">push_back</span>(n);             <span class="comment">//push_bask()成员函数在容器尾部添加一个元素</span></span><br><span class="line">    &#125;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; :: iterator i;      <span class="comment">//定义正向迭代器</span></span><br><span class="line">    <span class="comment">//用迭代器遍历元素</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = v.<span class="built_in">begin</span>();i != v.<span class="built_in">end</span>();++i)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; *i &lt;&lt; <span class="string">&quot; &quot;</span>;          <span class="comment">//*i就是迭代器i指向的元素</span></span><br><span class="line">        *i *= <span class="number">2</span>;                    <span class="comment">//每个元素变为原来的2倍</span></span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">    <span class="comment">//用反向迭代器遍历容器</span></span><br><span class="line">    <span class="keyword">for</span>(vector&lt;<span class="type">int</span>&gt; :: reverse_iterator i = v.<span class="built_in">rbegin</span>();j != v.<span class="built_in">rend</span>();++i)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; *j &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">程序输出的结果是：</span></span><br><span class="line"><span class="comment">0 1 2 3 4</span></span><br><span class="line"><span class="comment">8 6 4 2 0</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>容器适配器stack、queue、priority_queue没有迭代器</p>
</li>
<li><p>迭代器的功能分类：</p>
<ol>
<li>正向迭代器：支持前置++，后置++，*操作。并且允许两个正向迭代器相互赋值，还可以用&#x3D;&#x3D;,!&#x3D;运算符进行比较</li>
<li>双向迭代器：具有正向迭代器的全部功能，并且前置–，后置–都是有定义的</li>
<li>随机访问迭代器：具有双向迭代器的全部功能，还支持+&#x3D;，-&#x3D;，+，-，p[i]等运算，并且还可以用&lt;,&gt;,&lt;&#x3D;,&gt;&#x3D;进行比较</li>
</ol>
</li>
<li><p>不同容器的迭代器的功能：</p>
</li>
</ul>
<table>
<thead>
<tr>
<th align="center">容器</th>
<th align="center">迭代器功能</th>
</tr>
</thead>
<tbody><tr>
<td align="center">vector</td>
<td align="center">随机访问</td>
</tr>
<tr>
<td align="center">deque</td>
<td align="center">随机访问</td>
</tr>
<tr>
<td align="center">list</td>
<td align="center">双向</td>
</tr>
<tr>
<td align="center">set、multiset</td>
<td align="center">双向</td>
</tr>
<tr>
<td align="center">map、multimap</td>
<td align="center">双向</td>
</tr>
<tr>
<td align="center">stack</td>
<td align="center">不支持迭代器</td>
</tr>
<tr>
<td align="center">queue</td>
<td align="center">不支持迭代器</td>
</tr>
<tr>
<td align="center">priority_queue</td>
<td align="center">不支持迭代器</td>
</tr>
</tbody></table>
<ul>
<li><p>例如vector的迭代器是随机访问迭代器，所以遍历vector容器有以下几种做法，下面的程序中，每个循环演示了一种做法：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123; </span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">v</span><span class="params">(<span class="number">100</span>)</span></span>;                     <span class="comment">//v被初始化成有100个元素</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; v.<span class="built_in">size</span>();++i)         <span class="comment">//size()函数返回元素个数</span></span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; v[i];</span><br><span class="line">    &#125;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; :: iterator i;</span><br><span class="line">    <span class="keyword">for</span>(i = v.<span class="built_in">begin</span>();i != v.<span class="built_in">end</span>();++i)     <span class="comment">//用!=比较两个迭代器</span></span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; *i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(i = v.<span class="built_in">begin</span>();i &lt; v.<span class="built_in">end</span>();++i)      <span class="comment">//用&lt;比较两个迭代器</span></span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; *i;</span><br><span class="line">    &#125;</span><br><span class="line">    i = v.<span class="built_in">begin</span>();</span><br><span class="line">    <span class="keyword">while</span>(i &lt; v.<span class="built_in">end</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; *i;</span><br><span class="line">        i += <span class="number">2</span>;                             <span class="comment">//随机访问迭代器支持&quot;+=&quot;整数的操作</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>迭代器的辅助函数：头文件algorithm</p>
<ol>
<li>advance(p,n)：使迭代器p向前或向后移动n个元素</li>
<li>distance(p,q)：计算两个迭代器之间的距离，即迭代器p经过多少次++后才能与迭代器q相等</li>
<li>iter_swap(p,q)：用于交换两个迭代器p,q指向的值<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> a[<span class="number">5</span>] = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;;</span><br><span class="line">    <span class="function">list&lt;<span class="type">int</span>&gt; <span class="title">lst</span><span class="params">(a,a + <span class="number">5</span>)</span></span>;</span><br><span class="line">    list&lt;<span class="type">int</span>&gt; :: iterator p = lst.<span class="built_in">begin</span>();</span><br><span class="line">    <span class="built_in">advance</span>(p,<span class="number">2</span>);                               <span class="comment">//p向后两个元素，指向3</span></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;1)&quot;</span> &lt;&lt; *p &lt;&lt; endl;</span><br><span class="line">    <span class="built_in">advance</span>(p,<span class="number">-1</span>);                              <span class="comment">//p向前一个元素，指向2</span></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;2)&quot;</span> &lt;&lt; *p &lt;&lt; endl;</span><br><span class="line">    list&lt;<span class="type">int</span>&gt; :: itrator q = lst.<span class="built_in">end</span>();</span><br><span class="line">    q--;                                        <span class="comment">//q指向5</span></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;3)&quot;</span> &lt;&lt; <span class="built_in">distance</span>(p,q) &lt;&lt; endl;</span><br><span class="line">    <span class="built_in">iter_swap</span>(p,q);                             <span class="comment">//交换2和5</span></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;4)&quot;</span>;</span><br><span class="line">    <span class="keyword">for</span>(p = lst.<span class="built_in">begin</span>(); p != lst.<span class="built_in">end</span>();++p)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; *p &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">程序输出的结果是：</span></span><br><span class="line"><span class="comment">1) 3</span></span><br><span class="line"><span class="comment">2) 2</span></span><br><span class="line"><span class="comment">3) 3</span></span><br><span class="line"><span class="comment">4) 1 5 3 4 2</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ul>
<h3 id="算法-："><a href="#算法-：" class="headerlink" title="算法 ："></a>算法 ：</h3><ul>
<li><p>算法就是函数模板，通过迭代器来操纵容器中的元素。</p>
<ol>
<li>copy：将一个容器的内容复制到另一个容器中</li>
<li>remove：在容器中删除一个元素</li>
<li>random_shuffle：随机打乱容器中的元素</li>
<li>fill：用某个值填充容器</li>
<li>find：在容器中查找元素</li>
<li>count_if：统计容器中符合某种条件的元素的个数</li>
</ol>
</li>
<li><p>find功能：在区间[first,last)中按照顺序查找与某个变量或值相等的元素。如果找到则返回元素的迭代器；如果找不到，则返回last(不是end,而是end后面一个位置)</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> a[<span class="number">10</span>] = &#123;<span class="number">10</span>,<span class="number">20</span>,<span class="number">30</span>,<span class="number">40</span>&#125;;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; v;</span><br><span class="line">    v.<span class="built_in">push_back</span>(<span class="number">1</span>);</span><br><span class="line">    v.<span class="built_in">push_back</span>(<span class="number">2</span>);</span><br><span class="line">    v.<span class="built_in">push_back</span>(<span class="number">3</span>);</span><br><span class="line">    v.<span class="built_in">push_back</span>(<span class="number">4</span>);                             <span class="comment">//在v中放4个元素1,2,3,4</span></span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; :: iterator p;</span><br><span class="line">    p = <span class="built_in">find</span>(v.<span class="built_in">begin</span>(),v.<span class="built_in">end</span>(),<span class="number">3</span>);              <span class="comment">//在v中找3</span></span><br><span class="line">    <span class="keyword">if</span>(p != v.<span class="built_in">end</span>())                            <span class="comment">//若找不到，find返回v.end()</span></span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;1)&quot;</span> &lt;&lt; *p &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    p = <span class="built_in">find</span>(v.<span class="built_in">begin</span>(),v.<span class="built_in">end</span>(),<span class="number">9</span>);</span><br><span class="line">    <span class="keyword">if</span>(p == v.<span class="built_in">end</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;not found&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    p = <span class="built_in">find</span>(v.<span class="built_in">begin</span>() + <span class="number">1</span>,v.<span class="built_in">end</span>() - <span class="number">1</span>,<span class="number">4</span>)       <span class="comment">//在2,3两个元素中找4</span></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;2)&quot;</span> &lt;&lt; *p &lt;&lt; endl;</span><br><span class="line">    <span class="type">int</span>* pp = <span class="built_in">find</span>(a,a + <span class="number">4</span>,<span class="number">20</span>);</span><br><span class="line">    <span class="keyword">if</span>(pp == a + <span class="number">4</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;not found&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;3)&quot;</span> &lt;&lt; *pp &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">程序的输出结果是：</span></span><br><span class="line"><span class="comment">1) 3</span></span><br><span class="line"><span class="comment">not found</span></span><br><span class="line"><span class="comment">2) 4</span></span><br><span class="line"><span class="comment">3) 20</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="顺序容器-："><a href="#顺序容器-：" class="headerlink" title="顺序容器 ："></a>顺序容器 ：</h2></article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E5%AE%9E%E4%B9%A0/">程序设计实习</a></div><div class="post_share"><div class="social-share" data-image="https://s2.loli.net/2024/08/09/Lbg1GKRekxrFE8n.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/post/3863c722.html" title="我的"><img class="cover" src="https://s2.loli.net/2024/08/28/ekR3TbgGF2fl1Yr.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">Previous</div><div class="prev_info">我的</div></div></a></div><div class="next-post pull-right"><a href="/post/a0511b5.html" title="西方那一块土 书评6"><img class="cover" src="https://s2.loli.net/2024/07/18/7pSYosJX54HRiga.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">Next</div><div class="next_info">西方那一块土 书评6</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://s2.loli.net/2024/07/16/lsEXfWtGT6eRu7k.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">w434</div><div class="author-info__description">An undergraduate majoring in AI at PKU.</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">24</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">18</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">12</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/w434"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/w434" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">Welcom to my blog.</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Contents</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E7%AB%A0-%E4%BB%8EC%E5%88%B0C-%EF%BC%9A"><span class="toc-number">1.</span> <span class="toc-text">第一章 从C到C++ ：</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%95%E7%94%A8%E5%92%8C%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0%E7%9A%84%E4%BC%A0%E9%80%92-%EF%BC%9A"><span class="toc-number">1.1.</span> <span class="toc-text">引用和函数参数的传递 ：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8C%87%E9%92%88%E5%92%8C%E5%8A%A8%E6%80%81%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D-%EF%BC%9A"><span class="toc-number">1.2.</span> <span class="toc-text">指针和动态内存分配 ：</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E7%AB%A0-%E7%B1%BB%E5%92%8C%E5%AF%B9%E8%B1%A1%E5%88%9D%E6%AD%A5-%EF%BC%9A"><span class="toc-number">2.</span> <span class="toc-text">第二章 类和对象初步 ：</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E7%9A%84%E5%AE%9A%E4%B9%89%E5%92%8C%E4%BD%BF%E7%94%A8-%EF%BC%9A"><span class="toc-number">2.1.</span> <span class="toc-text">类的定义和使用 ：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%BF%E9%97%AE%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%88%90%E5%91%98-%EF%BC%9A"><span class="toc-number">2.2.</span> <span class="toc-text">访问对象的成员 ：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E6%88%90%E5%91%98%E5%8F%AF%E8%AE%BF%E9%97%AE%E8%8C%83%E5%9B%B4-%EF%BC%9A"><span class="toc-number">2.3.</span> <span class="toc-text">类成员可访问范围 ：</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E7%AB%A0%E4%BD%9C%E4%B8%9A%EF%BC%9A"><span class="toc-number">3.</span> <span class="toc-text">第二章作业：</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#A-%E7%BC%96%E7%A8%8B%E5%A1%AB%E7%A9%BA%EF%BC%9A%E5%AD%A6%E7%94%9F%E4%BF%A1%E6%81%AF%E5%A4%84%E7%90%86%E7%A8%8B%E5%BA%8F"><span class="toc-number">3.1.</span> <span class="toc-text">A:编程填空：学生信息处理程序 :</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#B-Complex%E7%B1%BB%E7%9A%84%E6%88%90%E5%91%98%E5%87%BD%E6%95%B0"><span class="toc-number">3.2.</span> <span class="toc-text">B:Complex类的成员函数 :</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E4%B8%89%E7%AB%A0-%E7%B1%BB%E5%92%8C%E5%AF%B9%E8%B1%A1%E8%BF%9B%E9%98%B6-%EF%BC%9A"><span class="toc-number">4.</span> <span class="toc-text">第三章 类和对象进阶 ：</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E7%9A%84%E6%A6%82%E5%BF%B5%E5%92%8C%E4%BD%9C%E7%94%A8-%EF%BC%9A"><span class="toc-number">4.1.</span> <span class="toc-text">构造函数的概念和作用 ：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%8D%E5%88%B6%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0-%EF%BC%9A"><span class="toc-number">4.2.</span> <span class="toc-text">复制构造函数 ：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0-%EF%BC%9A"><span class="toc-number">4.3.</span> <span class="toc-text">类型转换构造函数 ：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9E%90%E6%9E%84%E5%87%BD%E6%95%B0-%EF%BC%9A"><span class="toc-number">4.4.</span> <span class="toc-text">析构函数 ：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E6%88%90%E5%91%98%E5%8F%98%E9%87%8F%E5%92%8C%E9%9D%99%E6%80%81%E6%88%90%E5%91%98%E5%87%BD%E6%95%B0-%EF%BC%9A"><span class="toc-number">4.5.</span> <span class="toc-text">静态成员变量和静态成员函数 ：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E9%87%8F%E5%AF%B9%E8%B1%A1%E5%92%8C%E6%95%9E%E4%BA%AE%E6%88%90%E5%91%98%E5%87%BD%E6%95%B0-%EF%BC%9A"><span class="toc-number">4.6.</span> <span class="toc-text">常量对象和敞亮成员函数 ：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%88%90%E5%91%98%E5%AF%B9%E8%B1%A1%E5%92%8C%E5%B0%81%E9%97%AD%E7%B1%BB-%EF%BC%9A"><span class="toc-number">4.7.</span> <span class="toc-text">成员对象和封闭类 ：</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%81%E9%97%AD%E7%B1%BB%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E7%9A%84%E5%88%9D%E5%A7%8B%E5%8C%96%E5%88%97%E8%A1%A8-%EF%BC%9A"><span class="toc-number">4.7.1.</span> <span class="toc-text">封闭类构造函数的初始化列表 ：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%81%E9%97%AD%E7%B1%BB%E7%9A%84%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0-%EF%BC%9A"><span class="toc-number">4.7.2.</span> <span class="toc-text">封闭类的构造函数 ：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#const%E6%88%90%E5%91%98%E5%92%8C%E5%BC%95%E7%94%A8%E6%88%90%E5%91%98-%EF%BC%9A"><span class="toc-number">4.8.</span> <span class="toc-text">const成员和引用成员 ：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%8B%E5%85%83"><span class="toc-number">4.9.</span> <span class="toc-text">友元 :</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%8B%E5%85%83%E5%87%BD%E6%95%B0"><span class="toc-number">4.9.1.</span> <span class="toc-text">友元函数 :</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%8B%E5%85%83%E7%B1%BB-%EF%BC%9A"><span class="toc-number">4.9.2.</span> <span class="toc-text">友元类 ：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#this%E6%8C%87%E9%92%88-%EF%BC%9A"><span class="toc-number">4.10.</span> <span class="toc-text">this指针 ：</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#this%E6%8C%87%E9%92%88%E7%9A%84%E4%BD%9C%E7%94%A8-%EF%BC%9A"><span class="toc-number">4.10.1.</span> <span class="toc-text">this指针的作用 ：</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E4%B8%89%E7%AB%A0%E4%BD%9C%E4%B8%9A-%EF%BC%9A"><span class="toc-number">5.</span> <span class="toc-text">第三章作业 ：</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#A-Apple-%EF%BC%9A"><span class="toc-number">5.1.</span> <span class="toc-text">A:Apple ：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#B-%E8%BF%94%E5%9B%9E%E4%BB%80%E4%B9%88%E6%89%8D%E5%A5%BD%E5%91%A2"><span class="toc-number">5.2.</span> <span class="toc-text">B:返回什么才好呢 :</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#C-Big-Base-%E5%B0%81%E9%97%AD%E7%B1%BB%E9%97%AE%E9%A2%98"><span class="toc-number">5.3.</span> <span class="toc-text">C:Big &amp; Base 封闭类问题 :</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#D-%E5%A5%87%E6%80%AA%E7%9A%84%E7%B1%BB%E5%A4%8D%E5%88%B6-%EF%BC%9A"><span class="toc-number">5.4.</span> <span class="toc-text">D:奇怪的类复制 ：</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E5%9B%9B%E7%AB%A0-%E8%BF%90%E7%AE%97%E7%AC%A6%E9%87%8D%E8%BD%BD-%EF%BC%9A"><span class="toc-number">6.</span> <span class="toc-text">第四章 运算符重载 ：</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6%E9%87%8D%E8%BD%BD%E7%9A%84%E6%A6%82%E5%BF%B5%E5%92%8C%E5%8E%9F%E7%90%86-%EF%BC%9A"><span class="toc-number">6.1.</span> <span class="toc-text">运算符重载的概念和原理 ：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%87%8D%E8%BD%BD%E8%BF%90%E7%AE%97%E7%AC%A6%E2%80%9C-%E2%80%9D-%EF%BC%9A"><span class="toc-number">6.2.</span> <span class="toc-text">重载运算符“&#x3D;” ：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B7%B1%E6%8B%B7%E8%B4%9D%E4%B8%8E%E6%B5%85%E6%8B%B7%E8%B4%9D-%EF%BC%9A"><span class="toc-number">6.3.</span> <span class="toc-text">深拷贝与浅拷贝 ：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6%E9%87%8D%E8%BD%BD%E4%B8%BA%E5%8F%8B%E5%85%83%E5%87%BD%E6%95%B0-%EF%BC%9A"><span class="toc-number">6.4.</span> <span class="toc-text">运算符重载为友元函数 ：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%87%8D%E8%BD%BD%E6%8F%92%E5%85%A5%E6%B5%81%E8%BF%90%E7%AE%97%E7%AC%A6%E5%92%8C%E6%B5%81%E6%8F%90%E5%8F%96%E8%BF%90%E7%AE%97%E7%AC%A6-%EF%BC%9A"><span class="toc-number">6.5.</span> <span class="toc-text">重载插入流运算符和流提取运算符 ：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%87%8D%E8%BD%BD%E7%B1%BB%E5%9E%8B%E5%BC%BA%E5%88%B6%E8%BD%AC%E6%8D%A2%E8%BF%90%E7%AE%97%E7%AC%A6-%EF%BC%9A"><span class="toc-number">6.6.</span> <span class="toc-text">重载类型强制转换运算符 ：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%87%8D%E8%BD%BD%E8%87%AA%E5%A2%9E%E8%87%AA%E5%87%8F%E8%BF%90%E7%AE%97%E7%AC%A6-%EF%BC%9A"><span class="toc-number">6.7.</span> <span class="toc-text">重载自增自减运算符 ：</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E5%9B%9B%E7%AB%A0%E4%BD%9C%E4%B8%9A-%EF%BC%9A"><span class="toc-number">7.</span> <span class="toc-text">第四章作业 ：</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#A-MyString-%EF%BC%9A"><span class="toc-number">7.1.</span> <span class="toc-text">A:MyString ：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#B-%E7%9C%8B%E4%B8%8A%E5%8E%BB%E5%A5%BD%E5%9D%91%E7%9A%84%E8%BF%90%E7%AE%97%E7%AC%A6%E9%87%8D%E8%BD%BD-%EF%BC%9A"><span class="toc-number">7.2.</span> <span class="toc-text">B:看上去好坑的运算符重载 ：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#C-%E6%83%8A%E5%91%86%EF%BC%81Point%E7%AB%9F%E7%84%B6%E8%83%BD%E8%BF%99%E6%A0%B7%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA-%EF%BC%9A"><span class="toc-number">7.3.</span> <span class="toc-text">C:惊呆！Point竟然能这样输入输出 ：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#D-%E4%BA%8C%E7%BB%B4%E6%95%B0%E7%BB%84%E7%B1%BB-%EF%BC%9A"><span class="toc-number">7.4.</span> <span class="toc-text">D:二维数组类 ：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#E-%E5%88%AB%E5%8F%AB%EF%BC%8C%E8%BF%99%E4%B8%AA%E5%A4%A7%E6%95%B4%E6%95%B0%E5%B7%B2%E7%BB%8F%E5%BE%88%E7%AE%80%E5%8C%96%E4%BA%86-%EF%BC%9A"><span class="toc-number">7.5.</span> <span class="toc-text">E:别叫，这个大整数已经很简化了! ：</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E4%BA%94%E7%AB%A0-%E7%BB%A7%E6%89%BF%E4%B8%8E%E6%B4%BE%E7%94%9F-%EF%BC%9A"><span class="toc-number">8.</span> <span class="toc-text">第五章 继承与派生 ：</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%A7%E6%89%BF%E5%92%8C%E6%B4%BE%E7%94%9F%E7%9A%84%E6%A6%82%E5%BF%B5-%EF%BC%9A"><span class="toc-number">8.1.</span> <span class="toc-text">继承和派生的概念 ：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B4%BE%E7%94%9F%E7%B1%BB%E7%9A%84%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E5%92%8C%E6%9E%90%E6%9E%84%E5%87%BD%E6%95%B0-%EF%BC%9A"><span class="toc-number">8.2.</span> <span class="toc-text">派生类的构造函数和析构函数 ：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E7%B1%BB%E4%B8%8E%E6%B4%BE%E7%94%9F%E7%B1%BB%E6%8C%87%E9%92%88%E7%9A%84%E4%BA%92%E7%9B%B8%E8%BD%AC%E6%8D%A2-%EF%BC%9A"><span class="toc-number">8.3.</span> <span class="toc-text">基类与派生类指针的互相转换 ：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E5%B1%82%E6%AC%A1%E6%B4%BE%E7%94%9F-%EF%BC%9A"><span class="toc-number">8.4.</span> <span class="toc-text">多层次派生 ：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AC%E6%9C%89%E6%B4%BE%E7%94%9F%E3%80%81%E4%BF%9D%E6%8A%A4%E6%B4%BE%E7%94%9F%E5%92%8C%E7%A7%81%E6%9C%89%E6%B4%BE%E7%94%9F-%EF%BC%9A"><span class="toc-number">8.5.</span> <span class="toc-text">公有派生、保护派生和私有派生 ：</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E4%BA%94%E7%AB%A0%E4%BD%9C%E4%B8%9A-%EF%BC%9A"><span class="toc-number">9.</span> <span class="toc-text">第五章作业 ：</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#A-%E5%85%A8%E9%9D%A2%E7%9A%84MyString-%EF%BC%9A"><span class="toc-number">9.1.</span> <span class="toc-text">A:全面的MyString ：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#B-%E7%BB%A7%E6%89%BF%E8%87%AAstring%E7%9A%84MyString"><span class="toc-number">9.2.</span> <span class="toc-text">B:继承自string的MyString :</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E5%85%AD%E7%AB%A0-%E5%A4%9A%E6%80%81%E5%92%8C%E8%99%9A%E5%87%BD%E6%95%B0-%EF%BC%9A"><span class="toc-number">10.</span> <span class="toc-text">第六章 多态和虚函数 ：</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E6%80%81%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5-%EF%BC%9A"><span class="toc-number">10.1.</span> <span class="toc-text">多态的基本概念 ：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%9A%E8%BF%87%E5%9F%BA%E7%B1%BB%E5%BC%95%E7%94%A8%E5%AE%9E%E7%8E%B0%E5%A4%9A%E6%80%81-%EF%BC%9A"><span class="toc-number">10.2.</span> <span class="toc-text">通过基类引用实现多态 ：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B3%E4%BA%8E%E5%A4%9A%E6%80%81%E7%9A%84%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-number">10.3.</span> <span class="toc-text">关于多态的注意事项</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BA%AF%E8%99%9A%E5%87%BD%E6%95%B0%E5%92%8C%E6%8A%BD%E8%B1%A1%E7%B1%BB"><span class="toc-number">10.4.</span> <span class="toc-text">纯虚函数和抽象类</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E5%85%AD%E7%AB%A0%E4%BD%9C%E4%B8%9A-%EF%BC%9A"><span class="toc-number">11.</span> <span class="toc-text">第六章作业 ：</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#A-%E7%9C%8B%E4%B8%8A%E5%8E%BB%E5%83%8F%E5%A4%9A%E6%80%81-%EF%BC%9A"><span class="toc-number">11.1.</span> <span class="toc-text">A:看上去像多态 ：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#B-Fun%E5%92%8CDo"><span class="toc-number">11.2.</span> <span class="toc-text">B:Fun和Do :</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#C-%E8%BF%99%E6%98%AF%E4%BB%80%E4%B9%88%E9%AC%BCdelete"><span class="toc-number">11.3.</span> <span class="toc-text">C:这是什么鬼delete :</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#D-%E6%80%8E%E4%B9%88%E5%8F%88%E6%98%AFFun%E5%92%8CDo"><span class="toc-number">11.4.</span> <span class="toc-text">D:怎么又是Fun和Do :</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E4%B9%9D%E7%AB%A0-%E6%B3%9B%E5%9E%8B%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E4%B8%8E%E6%A8%A1%E6%9D%BF-%EF%BC%9A"><span class="toc-number">12.</span> <span class="toc-text">第九章 泛型程序设计与模板 ：</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E6%A8%A1%E6%9D%BF-%EF%BC%9A"><span class="toc-number">12.1.</span> <span class="toc-text">函数模板 ：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E6%A8%A1%E6%9D%BF-%EF%BC%9A"><span class="toc-number">12.2.</span> <span class="toc-text">类模板 ：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E6%A8%A1%E6%9D%BF%E4%B8%AD%E7%9A%84%E9%9D%9E%E7%B1%BB%E5%9E%8B%E5%8F%82%E6%95%B0-%EF%BC%9A"><span class="toc-number">12.3.</span> <span class="toc-text">类模板中的非类型参数 ：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E6%A8%A1%E6%9D%BF%E4%B8%8E%E7%BB%A7%E6%89%BF-%EF%BC%9A"><span class="toc-number">12.4.</span> <span class="toc-text">类模板与继承 ：</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB%E6%A8%A1%E6%9D%BF%E4%BB%8E%E7%B1%BB%E6%A8%A1%E6%9D%BF%E6%B4%BE%E7%94%9F-%EF%BC%9A"><span class="toc-number">12.4.1.</span> <span class="toc-text">类模板从类模板派生 ：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB%E6%A8%A1%E6%9D%BF%E4%BB%8E%E6%A8%A1%E6%9D%BF%E7%B1%BB%E6%B4%BE%E7%94%9F-%EF%BC%9A"><span class="toc-number">12.4.2.</span> <span class="toc-text">类模板从模板类派生 ：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB%E6%A8%A1%E6%9D%BF%E4%BB%8E%E6%99%AE%E9%80%9A%E7%B1%BB%E6%B4%BE%E7%94%9F-%EF%BC%9A"><span class="toc-number">12.4.3.</span> <span class="toc-text">类模板从普通类派生 ：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%99%AE%E9%80%9A%E7%B1%BB%E4%BB%8E%E6%A8%A1%E6%9D%BF%E7%B1%BB%E6%B4%BE%E7%94%9F-%EF%BC%9A"><span class="toc-number">12.4.4.</span> <span class="toc-text">普通类从模板类派生 ：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E6%A8%A1%E6%9D%BF%E4%B8%AD%E7%9A%84%E9%9D%99%E6%80%81%E6%88%90%E5%91%98-%EF%BC%9A"><span class="toc-number">12.5.</span> <span class="toc-text">类模板中的静态成员 ：</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E4%B9%9D%E7%AB%A0%E4%BD%9C%E4%B8%9A-%EF%BC%9A"><span class="toc-number">13.</span> <span class="toc-text">第九章作业 ：</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#A-%E7%AE%80%E5%8D%95%E7%9A%84SumArray-%EF%BC%9A"><span class="toc-number">13.1.</span> <span class="toc-text">A:简单的SumArray ：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#B-%E7%AE%80%E5%8D%95%E7%9A%84foreach"><span class="toc-number">13.2.</span> <span class="toc-text">B:简单的foreach :</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#C-%E7%AE%80%E5%8D%95%E7%9A%84Filter"><span class="toc-number">13.3.</span> <span class="toc-text">C:简单的Filter :</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#E-%E5%B1%B1%E5%AF%A8%E7%89%88istream-iterator"><span class="toc-number">13.4.</span> <span class="toc-text">E:山寨版istream_iterator :</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#F-%E8%BF%99%E4%B8%AA%E6%A8%A1%E6%9D%BF%E5%B9%B6%E4%B8%8D%E9%9A%BE"><span class="toc-number">13.5.</span> <span class="toc-text">F:这个模板并不难 :</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#G-%E6%8E%92%E5%BA%8F%EF%BC%8C%E5%8F%88%E8%A7%81%E6%8E%92%E5%BA%8F"><span class="toc-number">13.6.</span> <span class="toc-text">G:排序，又见排序! :</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E5%8D%81%E7%AB%A0-%E6%A0%87%E5%87%86%E6%A8%A1%E6%9D%BF%E5%BA%93STL-%EF%BC%9A"><span class="toc-number">14.</span> <span class="toc-text">第十章 标准模板库STL ：</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#STL%E4%B8%AD%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5-%EF%BC%9A"><span class="toc-number">14.1.</span> <span class="toc-text">STL中的基本概念 ：</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%B9%E5%99%A8%E6%A8%A1%E6%9D%BF-%EF%BC%9A"><span class="toc-number">14.1.1.</span> <span class="toc-text">容器模板 ：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%AD%E4%BB%A3%E5%99%A8-%EF%BC%9A"><span class="toc-number">14.1.2.</span> <span class="toc-text">迭代器 ：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%97%E6%B3%95-%EF%BC%9A"><span class="toc-number">14.1.3.</span> <span class="toc-text">算法 ：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A1%BA%E5%BA%8F%E5%AE%B9%E5%99%A8-%EF%BC%9A"><span class="toc-number">14.2.</span> <span class="toc-text">顺序容器 ：</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/post/429ce0ba.html" title="[24/25赛季德甲联赛]第一轮 拜仁慕尼黑3-2沃尔夫斯堡"><img src="https://s2.loli.net/2024/08/29/6fr8oZXlILGpBJt.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="[24/25赛季德甲联赛]第一轮 拜仁慕尼黑3-2沃尔夫斯堡"/></a><div class="content"><a class="title" href="/post/429ce0ba.html" title="[24/25赛季德甲联赛]第一轮 拜仁慕尼黑3-2沃尔夫斯堡">[24/25赛季德甲联赛]第一轮 拜仁慕尼黑3-2沃尔夫斯堡</a><time datetime="2024-08-28T10:16:00.000Z" title="Created 2024-08-28 18:16:00">2024-08-28</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/3863c722.html" title="我的"><img src="https://s2.loli.net/2024/08/28/ekR3TbgGF2fl1Yr.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="我的"/></a><div class="content"><a class="title" href="/post/3863c722.html" title="我的">我的</a><time datetime="2024-08-28T06:21:00.000Z" title="Created 2024-08-28 14:21:00">2024-08-28</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/eb1fb29b.html" title="程序设计实习 新标准C++程序设计"><img src="https://s2.loli.net/2024/08/09/Lbg1GKRekxrFE8n.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="程序设计实习 新标准C++程序设计"/></a><div class="content"><a class="title" href="/post/eb1fb29b.html" title="程序设计实习 新标准C++程序设计">程序设计实习 新标准C++程序设计</a><time datetime="2024-08-09T04:38:00.000Z" title="Created 2024-08-09 12:38:00">2024-08-09</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/a0511b5.html" title="西方那一块土 书评6"><img src="https://s2.loli.net/2024/07/18/7pSYosJX54HRiga.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="西方那一块土 书评6"/></a><div class="content"><a class="title" href="/post/a0511b5.html" title="西方那一块土 书评6">西方那一块土 书评6</a><time datetime="2024-08-02T07:41:00.000Z" title="Created 2024-08-02 15:41:00">2024-08-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/930c400f.html" title="西方那一块土 书评5"><img src="https://s2.loli.net/2024/07/18/7pSYosJX54HRiga.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="西方那一块土 书评5"/></a><div class="content"><a class="title" href="/post/930c400f.html" title="西方那一块土 书评5">西方那一块土 书评5</a><time datetime="2024-07-30T09:07:00.000Z" title="Created 2024-07-30 17:07:00">2024-07-30</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By w434</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">Hi, welcom to my blog.</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="Toggle Between Traditional Chinese And Simplified Chinese">简</button><button id="darkmode" type="button" title="Toggle Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between Single-column and Double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back To Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src="/js/tw_cn.js?v=4.13.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>